(this["webpackJsonphonzon-platform"]=this["webpackJsonphonzon-platform"]||[]).push([[0],{1028:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"UPDATE_TRANSITION",(function(){return A})),a.d(n,"updateTransition",(function(){return q})),a.d(n,"REMOVE_TRANSITION",(function(){return P})),a.d(n,"removeTransition",(function(){return D}));var r={};a.r(r),a.d(r,"CONNECT_ASYNC",(function(){return I})),a.d(r,"connectAsync",(function(){return B})),a.d(r,"FETCH_PRICES_FEED",(function(){return F})),a.d(r,"fetchPricesFeed",(function(){return M})),a.d(r,"FETCH_CDP_TYPES",(function(){return U})),a.d(r,"fetchCdpTypes",(function(){return G})),a.d(r,"FETCH_TOTAL_ISSUANCE",(function(){return W})),a.d(r,"fetchTotalIssuance",(function(){return H})),a.d(r,"FETCH_CONSTANTS",(function(){return Z})),a.d(r,"fetchConstants",(function(){return z}));var c={};a.r(c),a.d(c,"IMPORT_ACCOUNT",(function(){return $})),a.d(c,"importAccount",(function(){return Y})),a.d(c,"SELECT_ACCOUNT",(function(){return Q})),a.d(c,"selectAccount",(function(){return J})),a.d(c,"FETCH_ASSETS_BALANCE",(function(){return X})),a.d(c,"fetchAssetsBalance",(function(){return K}));var o={};a.r(o),a.d(o,"UPDATE_VAULT",(function(){return te})),a.d(o,"updateLoan",(function(){return ae})),a.d(o,"reset",(function(){return ne})),a.d(o,"LOAD_TX_RECORD",(function(){return re})),a.d(o,"loadTxRecord",(function(){return ce})),a.d(o,"FETCH_VAULTS",(function(){return oe})),a.d(o,"fetchLoans",(function(){return ie}));var i={};a.r(i),a.d(i,"SWAP_CURRENCY",(function(){return fe})),a.d(i,"swapCurrency",(function(){return Ee})),a.d(i,"reset",(function(){return he})),a.d(i,"FETCH_DEX_LIQUIDITY_POOL",(function(){return Oe})),a.d(i,"fetchDexLiquidityPool",(function(){return ge}));var l={};a.r(l),a.d(l,"FETCH_PROPOSALS",(function(){return Ce})),a.d(l,"fetchProposals",(function(){return ve})),a.d(l,"FETCH_COUNCIL",(function(){return ye})),a.d(l,"fetchCouncil",(function(){return xe}));var u={};a.r(u),a.d(u,"autoRemoveTransitionEpic",(function(){return Ae}));var s={};a.r(s),a.d(s,"connectEpic",(function(){return jt})),a.d(s,"fetchPricesFeedEpic",(function(){return Ct})),a.d(s,"fetchCdpTypesEpic",(function(){return vt})),a.d(s,"fetchTotalIssuance",(function(){return yt})),a.d(s,"fetchConstants",(function(){return xt}));var m={};a.r(m),a.d(m,"fetchAssetBalanceEpic",(function(){return qt})),a.d(m,"importAccmountEpic",(function(){return Pt})),a.d(m,"selectAccountEpic",(function(){return Dt}));var d={};a.r(d),a.d(d,"createLoanEpic",(function(){return Mt})),a.d(d,"fetchLoansEpic",(function(){return Ut}));var p={};a.r(p),a.d(p,"createLoanEpic",(function(){return Gt})),a.d(p,"fetchDexLiquidityPool",(function(){return Wt}));var b={};a.r(b),a.d(b,"fetchProposals",(function(){return Ht})),a.d(b,"fetchCouncil",(function(){return Zt}));var f=a(0),E=a.n(f),h=a(40),O=a.n(h),g=(a(497),a(13)),j=a(1092),C=a(1093),v=a(225),y=a(128),x=a(1099),w=a(9),L=a(6);function k(e){return{type:"".concat(e,"/loading/start"),payload:null}}function N(e){return{type:"".concat(e,"/loading/end"),payload:null}}var S=function(e){return function(t){return t.loading[e]}},T={},R=a(24),A="@app/update_transaction",q=Object(R.createAction)(A,(function(e){return function(t){return e(t)}})),P="@/app/remove_transaction",D=Object(R.createAction)(P,(function(e){return function(t){return e(t)}})),_=Object(R.createReducer)({transactions:[]}).handleAction(q,(function(e,t){var a=t.payload,n=e.transactions.slice(),r=n.find((function(e){return e.id===a.id}));return r?Object.assign(r,a):n.push(a),Object.assign({},e,{transactions:n})})).handleAction(D,(function(e,t){var a=t.payload,n=e.transactions.slice(),r=n.findIndex((function(e){return e.id===a}));return-1!==r&&n.splice(r,1),Object(L.a)({},e,{transactions:n})})),I="@chain/connect",B=Object(R.createAsyncAction)(I,"@chain/connect/success","@chain/connnect/failure")(),F="@chain/fetch_prices_feed",M=Object(R.createAsyncAction)(F,"@chain/fetch_prices_feed/success","@chain/fetch_prices_feed/failure")(),U="@chain/fetch_cdp_types",G=Object(R.createAsyncAction)(U,"@chain/fetch_cdp_types/success","@chain/fetch_cdp_types/failure")(),W="@chain/fetch_total_issuance",H=Object(R.createAsyncAction)(W,"@chain/fetch_total_issuance/success","@chain/fetch_total_issuance/failure")(),Z="@chain/fetch_constants",z=Object(R.createAsyncAction)(Z,"@chain/fetch_constants/success","@chain/fetch_constants/failure")(),V=Object(R.createReducer)({app:null,connected:!1,pricesFeed:[],cdpTypes:[],totalIssuance:[],constants:null}).handleAction(B.success,(function(e,t){return Object(L.a)({},e,{app:t.payload,connected:!0})})).handleAction(M.success,(function(e,t){return Object(L.a)({},e,{pricesFeed:t.payload})})).handleAction(G.success,(function(e,t){return Object(L.a)({},e,{cdpTypes:t.payload})})).handleAction(H.success,(function(e,t){return Object(L.a)({},e,{totalIssuance:t.payload})})).handleAction(z.success,(function(e,t){return Object(L.a)({},e,{constants:t.payload})})),$="@account/import_account",Y=Object(R.createAsyncAction)($,"@account/import_account/success","@account/import_account/failure")(),Q="@account/select_account",J=Object(R.createAsyncAction)(Q,"@account/select_account/success","@account/select_account/failure")(),X="@account/fetch_assets_balance",K=Object(R.createAsyncAction)(X,"@account/fetch_assets_balance/success","@account/fetch_assets_balance/failure")(),ee=Object(R.createReducer)({extensionStatus:"none",accountList:[],account:null,accountStatus:"none",balancas:[],error:"none"}).handleAction(K.success,(function(e,t){return Object(L.a)({},e,{balancas:t.payload})})).handleAction(Y.success,(function(e,t){return Object(L.a)({},e,{extensionStatus:"success",accountList:t.payload})})).handleAction(J.success,(function(e,t){return Object(L.a)({},e,{account:t.payload,accountStatus:"success"})})).handleAction([Y.failure,J.failure],(function(e,t){var a=Object(L.a)({},e,{error:t.payload});return"no extends found"===t.payload&&(a.extensionStatus="failure"),"no accounts found"===t.payload&&(a.accountStatus="failure"),"set singer failure"===t.payload&&(a.accountStatus="failure"),a})),te="@loan/update_loan",ae=Object(R.createAsyncAction)(te,"@loan/update_loan/success","@loan/update_loan/failure")(),ne=Object(R.createAction)("@loan/reset"),re="@loan/load_tx_record",ce=Object(R.createAction)(re),oe="@account/fetch_loans",ie=Object(R.createAsyncAction)(oe,"@account/fetch_loans/success","@account/fetch_loans/failure")(),le=a(162),ue=a(102),se=a(172),me=a.n(se),de=function(){function e(t){return Object(le.a)(this,e),this.inner=void 0,t instanceof me.a?this.inner=t:this.inner=new me.a(t),this}return Object(ue.a)(e,[{key:"toString",value:function(){return this.inner.div(e.PRECISION).toString()}},{key:"innerToString",value:function(){return this.inner.isNaN()?e.fromNatural(0).inner.toFixed():this.inner.toFixed().split(".")[0]}},{key:"toNumber",value:function(t){var a=this.inner.div(e.PRECISION);return t&&(a=a.decimalPlaces(t,1)),a.toNumber()}},{key:"add",value:function(t){return new e(this.inner.plus(t.inner))}},{key:"sub",value:function(t){return new e(this.inner.minus(t.inner))}},{key:"mul",value:function(t){return new e(this.inner.times(t.inner).div(e.PRECISION))}},{key:"div",value:function(t){return new e(this.inner.div(t.inner).times(e.PRECISION))}},{key:"isLessThan",value:function(e){return this.inner.isLessThan(e.inner)}},{key:"isGreaterThan",value:function(e){return this.inner.isGreaterThan(e.inner)}},{key:"isEqualTo",value:function(e){return this.inner.isEqualTo(e.inner)}},{key:"negated",value:function(){return new e(this.inner.negated())}},{key:"isZero",value:function(){return!!this.inner&&this.inner.isZero()}}],[{key:"fromNatural",value:function(t){return new e(new me.a(t).times(e.PRECISION))}},{key:"fromParts",value:function(t){return new e(t)}},{key:"fromRational",value:function(t,a){var n=new me.a(t),r=new me.a(a);return new e(n.times(e.PRECISION).div(r))}}]),e}();de.PRECISION=Math.pow(10,18);var pe=de,be=Object(R.createReducer)({updateLoanStatus:"none",txRecord:[],loans:[]}).handleAction(ae.request,(function(e){return Object(L.a)({},e,{updateLoanStatus:"pending"})})).handleAction(ae.success,(function(e){return Object(L.a)({},e,{updateLoanStatus:"success"})})).handleAction(ae.failure,(function(e){return Object(L.a)({},e,{updateLoanStatus:"none"})})).handleAction(ne,(function(e){return Object(L.a)({},e,{updateLoanStatus:"none"})})).handleAction(q,(function(e,t){var a=e.txRecord.slice(),n=t.payload;if("updateLoan"!==n.type||"success"!==n.status)return e;var r=a.find((function(e){return e.hash===n.hash}));return r?Object.assign(r,{time:n.time,status:n.status}):a.push(n),window.localStorage.setItem("loan-tx-storage-v0.0.1",JSON.stringify(a)),Object(L.a)({},e,{txRecord:a})})).handleAction(ce,(function(e){var t=JSON.parse(window.localStorage.getItem("loan-tx-storage-v0.0.1")||"[]");return t&&t.forEach((function(e){e.data.collateral=pe.fromParts(e.data.collateral.inner),e.data.debit=pe.fromParts(e.data.debit.inner)})),t?Object(L.a)({},e,{txRecord:t}):e})).handleAction(ie.success,(function(e,t){return Object(L.a)({},e,{loans:t.payload})})),fe="@dex/swap_currency",Ee=Object(R.createAsyncAction)(fe,"@dex/swap_currency/success","@dex/swap_currency/failure")(),he=Object(R.createAction)("@dex/reset"),Oe="@dex/fetch_dex_liquidity_pool",ge=Object(R.createAsyncAction)(Oe,"@dex/fetch_dex_liquidity_pool/success","@dex/fetch_dex_liquidity_pool/failure")(),je=Object(R.createReducer)({swapCurrencyStatus:"none",dexLiquidityPool:[]}).handleAction(Ee.request,(function(e){return Object(L.a)({},e,{swapCurrencyStatus:"pending"})})).handleAction(Ee.success,(function(e){return Object(L.a)({},e,{swapCurrencyStatus:"success"})})).handleAction(Ee.failure,(function(e){return Object(L.a)({},e,{swapCurrencyStatus:"failure"})})).handleAction(he,(function(e){return Object(L.a)({},e,{swapCurrencyStatus:"none"})})).handleAction(ge.success,(function(e,t){return Object(L.a)({},e,{dexLiquidityPool:t.payload})})),Ce="@governance/fetch_proposals",ve=Object(R.createAsyncAction)(Ce,"@governance/fetch_proposals/success","@governance/fetch_proposals/failure")(),ye="@governance/fetch_council",xe=Object(R.createAsyncAction)(ye,"@governance/fetch_council/success","@governance/fetch_council/failure")(),we=Object(R.createReducer)({proposals:[],council:[]}).handleAction(ve.success,(function(e,t){return Object(L.a)({},e,{proposals:t.payload})})).handleAction(xe.success,(function(e,t){return Object(L.a)({},e,{council:t.payload})})),Le=Object(y.c)({loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,a=/(.*?)\/loading\/start/,n=/(.*?)\/loading\/end/;if(a.test(t.type)){var r=a.exec(t.type)[1];return Object(L.a)({},e,Object(w.a)({},r,!0))}if(n.test(t.type)){var c=n.exec(t.type)[1];return Object(L.a)({},e,Object(w.a)({},c,!1))}return e},chain:V,app:_,account:ee,loan:be,dex:je,governance:we}),ke=a(55),Ne=a(1061),Se=a(68),Te=a(308),Re=a(45),Ae=function(e){return e.pipe(Object(Se.a)(Object(R.isActionOf)(q)),Object(Se.a)((function(e){var t=e.payload;return"success"===t.status||"failure"===t.status})),Object(Te.a)(2e3),Object(Re.a)((function(e){var t=e.payload;return D(t.id)})))},qe=a(17),Pe=a(297),De=a(46),_e=a(137),Ie=a(161),Be=a(393),Fe=a(388),Me=a(87),Ue=a(389),Ge=a(112),We=a(124),He=a(157),Ze=a(51),ze=a(453),Ve=a(454),$e=a.n(Ve),Ye=a(455),Qe=a.n(Ye),Je=a(456),Xe=a.n(Je),Ke=a(457),et=a.n(Ke),tt=a(458),at=a.n(tt),nt=a(459),rt=a.n(nt),ct=a(460),ot=a.n(ct),it=a(461),lt=a.n(it),ut=a(462),st=a.n(ut),mt=new Map([[0,{name:"ACA",fullName:"Acalc"}],[1,{name:"aUSD",icon:ot.a,fullName:"aUSD"}],[2,{name:"DOT",icon:st.a,fullName:"PolkaDOT"}],[3,{name:"XBTC",icon:lt.a,fullName:"Bitcoin"}]]),dt=[2,3],pt=[1,2,3],bt={products:[{name:"Self Serviced Loan",path:"loan",icon:Qe.a},{name:"Exchange",path:"exchange",icon:at.a},{name:"Governance",path:"governance",icon:rt.a}],socialMedia:[{name:"Email",icon:et.a,href:"mailto:hello@acala.network"},{name:"Twitter",icon:Xe.a,href:"https://twitter.com/AcalaNetwork",target:"_blank"}]};function ft(e){var t=mt.get(e);return t?t.name:""}function Et(e){var t=mt.get(e);return t&&t.icon?t.icon:""}function ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(e.isNone)return 0;var a=parseInt(e.toString(),t);return Number.isNaN(a)?0:a}function Ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e&&e.address?e.address.slice(0,t)+a:""}function gt(e){return e.replace(/^(.{6}).*?(.{7})$/,"$1.....$2")}var jt=function(e){return e.pipe(Object(Se.a)(Object(R.isActionOf)(B.request)),Object(_e.a)((function(e){var t=e.payload.endpoint,a=new Pe.WsProvider(t),n={oracle:Object.values($e.a.oracle.methods)};return Object(Ge.a)(Object(We.a)(k(I)),Pe.ApiRx.create({provider:a,types:ze.types,rpc:n}).pipe(Object(Re.a)(B.success),Object(Ie.a)(1)),Object(We.a)(N(I)))})))},Ct=function(e,t){return e.pipe(Object(Se.a)(Object(R.isActionOf)(M.request)),Object(Be.a)(t),Object(_e.a)((function(e){var t=Object(qe.a)(e,2),a=t[0],n=t[1],r=a.payload,c=n.chain.app;return Object(He.b)(r.map((function(e){return c.rpc.oracle.getValue(e)}))).pipe(Object(Re.a)((function(e){return r.map((function(t,a){var n=Object(De.get)(e,[a,"value","value"],{isNone:!0});return{asset:t,price:pe.fromParts(ht(n))}}))})),Object(Re.a)(M.success))})))},vt=function(e,t){return e.pipe(Object(Se.a)(Object(R.isActionOf)(G.request)),Object(Be.a)(t),Object(Fe.a)((function(e){var a=Object(qe.a)(e,2),n=a[0],r=a[1];return r.chain.constants?Object(We.a)([n,r]):t.pipe(Object(Me.a)((function(e){return e.chain.constants?Object(We.a)([n,e]):Object(Ze.b)()})),Object(Ue.a)())})),Object(_e.a)((function(e){var t=Object(qe.a)(e,2),a=t[0],n=t[1],r=a.payload,c=n.chain.app;return Object(He.b)(r.map((function(e){return Object(He.b)([c.query.cdpEngine.debitExchangeRate(e),c.query.cdpEngine.liquidationPenalty(e),c.query.cdpEngine.liquidationRatio(e),c.query.cdpEngine.maximumTotalDebitValue(e),c.query.cdpEngine.requiredCollateralRatio(e),c.query.cdpEngine.stabilityFee(e)])}))).pipe(Object(Re.a)((function(e){return r.map((function(t,a){return{asset:t,debitExchangeRate:e[a][0].isEmpty?n.chain.constants.cdpEngine.defaultDebitExchangeRate:pe.fromParts(ht(e[a][0])),liquidationPenalty:pe.fromParts(ht(e[a][1])),liquidationRatio:pe.fromParts(ht(e[a][2])),maximumTotalDebitValue:pe.fromParts(ht(e[a][3])),requiredCollateralRatio:pe.fromParts(ht(e[a][4])),stabilityFee:e[a][5].isEmpty?n.chain.constants.cdpEngine.globalStabilityFee:n.chain.constants.cdpEngine.globalStabilityFee.add(pe.fromParts(ht(e[a][5])))}}))})),Object(Re.a)(G.success))})))},yt=function(e,t){return e.pipe(Object(Se.a)(Object(R.isActionOf)(H.request)),Object(Be.a)(t),Object(_e.a)((function(e){var t=Object(qe.a)(e,2),a=t[0],n=t[1],r=a.payload,c=n.chain.app;return Object(He.b)(r.map((function(e){return c.query.tokens.totalIssuance(e)}))).pipe(Object(Re.a)((function(e){return r.map((function(t,a){return{asset:t,issuance:pe.fromParts(ht(e[a]))}}))})),Object(Re.a)(H.success))})))},xt=function(e,t){return e.pipe(Object(Se.a)(Object(R.isActionOf)(z.request)),Object(Be.a)(t),Object(Re.a)((function(e){var t=Object(qe.a)(e,2),a=(t[0],t[1].chain.app);return{cdpEngine:{collateralCurrencyIds:a.consts.cdpEngine.collateralCurrencyIds,defaultDebitExchangeRate:a.consts.cdpEngine.defaultDebitExchangeRate,defaultLiquidationRatio:a.consts.cdpEngine.defaultLiquidationRatio,stableCurrencyId:a.consts.cdpEngine.getStableCurrencyId,globalStabilityFee:a.consts.cdpEngine.globalStabilityFee,maxSlippageSwapWithDex:a.consts.cdpEngine.maxSlippageSwapWithDex,minimumDebitValue:a.consts.cdpEngine.minimumDebitValue},babe:{expectedBlockTime:a.consts.babe.expectedBlockTime}}})),Object(Re.a)((function(e){var t=e.cdpEngine,a=e.babe;return{cdpEngine:{collateralCurrencyIds:t.collateralCurrencyIds.toJSON(),defaultDebitExchangeRate:pe.fromParts(t.defaultLiquidationRatio.toString()),defaultLiquidationRatio:pe.fromParts(t.defaultLiquidationRatio.toString()),stableCurrencyId:t.stableCurrencyId.toString(),globalStabilityFee:pe.fromParts(t.globalStabilityFee.toString()),maxSlippageSwapWithDex:pe.fromParts(t.maxSlippageSwapWithDex.toString()),minimumDebitValue:pe.fromParts(t.minimumDebitValue.toString())},babe:{expectedBlockTime:a.expectedBlockTime.toNumber()}}})),Object(Re.a)((function(e){return z.success(e)})))},wt=a(65),Lt=a.n(wt),kt=a(298),Nt=a(386),St=a(390),Tt=a(387),Rt=a(159),At=a(242),qt=function(e,t){return e.pipe(Object(Se.a)(Object(R.isActionOf)(K.request)),Object(Be.a)(t),Object(Se.a)((function(e){var t=Object(qe.a)(e,2);t[0];return null!==t[1].chain.app})),Object(Se.a)((function(e){var t=Object(qe.a)(e,2);t[0];return null!==t[1].account.account})),Object(_e.a)((function(e){var t=Object(qe.a)(e,2),a=t[0],n=t[1],r=a.payload,c=n.chain.app,o=n.account.account.address;return Object(He.b)(r.map((function(e){return 0===e?c.query.balances.account(o):c.query.tokens.balance(e,o)}))).pipe(Object(Re.a)((function(e){return r.map((function(t,a){return{asset:t,balance:pe.fromParts(ht(e[a]))}}))})),Object(Re.a)(K.success))})))},Pt=function(e,t){return e.pipe(Object(Se.a)(Object(R.isActionOf)(Y.request)),Object(Te.a)(1e3),Object(_e.a)((function(){return Object(Rt.a)(Object(kt.a)(Lt.a.mark((function e(){var t;return Lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(At.web3Enable)("Acala Honzon Platform");case 2:if(e.sent.length){e.next=5;break}throw new Error("no extends found");case 5:return e.next=7,Object(At.web3Accounts)();case 7:if(0!==(t=e.sent).length){e.next=10;break}throw new Error("no accounts found");case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})))).pipe(Object(Re.a)(Y.success),Object(Nt.a)((function(e){return Object(We.a)(Y.failure(e.message))})),Object(St.a)(k($)),Object(Tt.a)(N($)))})))},Dt=function(e,t){return e.pipe(Object(Se.a)(Object(R.isActionOf)(J.request)),Object(Be.a)(t),Object(_e.a)((function(e){var t=Object(qe.a)(e,2),a=t[0],n=t[1];return Object(Rt.a)(Object(kt.a)(Lt.a.mark((function e(){var t,r,c,o,i;return Lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.chain.app,r=n.account.accountList,c=a.payload,o=r.find((function(e,t){return c===t}))){e.next=6;break}throw new Error("no account found");case 6:return e.next=8,Object(At.web3FromAddress)(o.address);case 8:return i=e.sent,t.setSigner(i.signer),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})))).pipe(Object(Re.a)(J.success),Object(Nt.a)((function(e){return Object(We.a)(J.failure(e.message))})),Object(St.a)(k(Q)),Object(Tt.a)(N(Q)))})))},_t=a(391),It=a(392),Bt=Object(It.a)((function(e){0})),Ft=Object(Se.a)((function(e){return e.events.forEach((function(e){e.phase;var t=e.event,a=(t.data,t.method);t.section;if("ExtrinsicFailed"===a)throw console.log("error: ",a),new Error(a)})),e.isFinalized})),Mt=function(e,t){return e.pipe(Object(Se.a)(Object(R.isActionOf)(ae.request)),Object(Be.a)(t),Object(_e.a)((function(t){var a=Object(qe.a)(t,2),n=a[0],r=a[1],c=n.payload,o=r.chain.app,i=r.account.account.address,l=o.tx.honzon.updateLoan(c.asset,c.collateral.innerToString(),c.debit.innerToString()),u={id:l.hash.toString(),signer:i,hash:"",status:"pending",time:(new Date).getTime(),type:"updateLoan",data:c};return Object(Ge.a)(Object(We.a)(k(te)),Object(We.a)(q(u)),l.signAndSend(i).pipe(Bt,Ft,Object(Me.a)((function(e){return Object(We.a)(q(Object(L.a)({},u,{hash:l.hash.toHex(),time:(new Date).getTime(),status:"success"})),ae.success(e))})),Object(Nt.a)((function(e){return Object(We.a)(q(Object(L.a)({},u,{hash:l.hash.toHex(),time:(new Date).getTime(),status:"failure"})),ae.failure(e.message))})),Object(_t.a)(e.ofType(ae.success,ae.failure))),Object(We.a)(N(te)))})))},Ut=function(e,t){return e.pipe(Object(Se.a)(Object(R.isActionOf)(ie.request)),Object(Be.a)(t),Object(_e.a)((function(e){var t=Object(qe.a)(e,2),a=t[0],n=t[1],r=n.chain.app,c=n.account.account,o=a.payload;return Object(He.b)(o.map((function(e){return Object(He.b)([r.query.loans.collaterals(c.address,e),r.query.loans.debits(c.address,e)])}))).pipe(Object(Re.a)((function(e){return o.map((function(t,a){return{asset:t,collateral:pe.fromParts(ht(e[a][0])),debit:pe.fromParts(ht(e[a][1]))}}))})),Object(Me.a)((function(e){return Object(We.a)(ie.success(e),N(oe))})),Object(St.a)(k(oe)),Object(Nt.a)((function(){return Object(We.a)(ie.failure("error"))})))})))},Gt=function(e,t){return e.pipe(Object(Se.a)(Object(R.isActionOf)(Ee.request)),Object(Be.a)(t),Object(Se.a)((function(e){var t=Object(qe.a)(e,2);t[0];return null!==t[1].chain.app})),Object(Se.a)((function(e){var t=Object(qe.a)(e,2);t[0];return null!==t[1].account.account})),Object(_e.a)((function(t){var a=Object(qe.a)(t,2),n=a[0],r=a[1],c=n.payload,o=r.chain.app,i=r.account.account.address,l=o.tx.dex.swapCurrency([c.supply.asset,c.supply.balance.innerToString()],[c.target.asset,c.target.balance.innerToString()]),u={id:l.hash.toHex(),signer:i,hash:"",status:"pending",time:(new Date).getTime(),type:"swapCurrency",data:c};return Object(Ge.a)(Object(We.a)(k(fe)),Object(We.a)(q(u)),l.signAndSend(i).pipe(Bt,Ft,Object(Me.a)((function(e){return Object(We.a)(q(Object(L.a)({},u,{hash:l.hash.toHex(),time:(new Date).getTime(),status:"success"})),Ee.success(e))})),Object(Nt.a)((function(e){return Object(We.a)(q(Object(L.a)({},u,{hash:l.hash.toHex(),time:(new Date).getTime(),status:"failure"})),Ee.failure(e.message))})),Object(_t.a)(e.ofType(Ee.success,Ee.failure))),Object(We.a)(N(fe)))})))},Wt=function(e,t){return e.pipe(Object(Se.a)(Object(R.isActionOf)(ge.request)),Object(Be.a)(t),Object(Se.a)((function(e){var t=Object(qe.a)(e,2);t[0];return null!==t[1].chain.app})),Object(_e.a)((function(e){var t=Object(qe.a)(e,2),a=t[0],n=t[1],r=a.payload,c=n.chain.app;return Object(He.b)(r.map((function(e){return c.query.dex.liquidityPool(e)}))).pipe(Object(Re.a)((function(e){return r.map((function(t,a){return{asset:t,pool:{other:pe.fromParts(ht(e[a][0])),base:pe.fromParts(ht(e[a][1]))}}}))})),Object(Re.a)(ge.success),Object(Nt.a)((function(){return Object(We.a)(ge.failure("fetch dex liquidity pool error"))})))})))},Ht=function(e,t){return e.pipe(Object(Se.a)(Object(R.isActionOf)(ve.request)),Object(Be.a)(t),Object(_e.a)((function(e){var t=Object(qe.a)(e,2),a=(t[0],t[1].chain.app);return a.query.financialCouncil.proposals().pipe(Object(_e.a)((function(e){return e.length?Object(He.b)([Object(We.a)(e),a.query.financialCouncil.proposalOf.multi(e),a.query.financialCouncil.voting.multi(e)]):Object(We.a)([[],[],[]])})),Object(Re.a)((function(e){var t=e[0].map((function(e){return e.toString()})),a=e[1].map((function(e){var t=e.value.callIndex,a=e.toJSON();return Object(L.a)({method:e.registry.findMetaCall(t).toJSON()},a)})),n=e[2].map((function(e){return e.toJSON()}));return t.map((function(e,t){return{hash:e,proposal:a[t],vote:n[t]}}))})),Object(Re.a)(ve.success))})))},Zt=function(e,t){return e.pipe(Object(Se.a)(Object(R.isActionOf)(xe.request)),Object(Be.a)(t),Object(_e.a)((function(e){var t=Object(qe.a)(e,2);t[0];return t[1].chain.app.query.financialCouncil.members().pipe(Object(Re.a)((function(e){return e.toJSON()})),Object(Re.a)(xe.success))})))},zt=Ne.a.apply(void 0,Object(ke.a)(Object.values(u)).concat(Object(ke.a)(Object.values(s)),Object(ke.a)(Object.values(m)),Object(ke.a)(Object.values(d)),Object(ke.a)(Object.values(p)),Object(ke.a)(Object.values(b))));var Vt=a(108),$t=a(463),Yt=a(1063),Qt=a(1064),Jt=Object($t.a)((function(){return Object(Yt.a)({root:{position:"fixed",flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}})})),Xt=function(){var e=Jt();return E.a.createElement("div",{className:e.root},E.a.createElement(Qt.a,null))},Kt={loading:{startLoading:k,endLoading:N},app:n,chain:r,account:c,loan:o,dex:i,governance:l},ea=function(e){return e.account.balancas};function ta(e){return"number"===typeof e?function(t){var a=t.account.balancas.find((function(t){return t.asset===e}));return a?a.balance:pe.fromNatural(0)}:function(t){var a=t.account.balancas;return e.map((function(e){var t=a.find((function(t){return t.asset===e}));return t?t.balance:pe.fromNatural(0)}))}}function aa(e){return function(t){return e.map((function(e){return t.account[e]}))}}var na=function(e){return e.account.account},ra=a(1065),ca=a(464),oa=a.n(ca),ia=a(465),la=a.n(ia),ua=a(1031),sa=Object($t.a)((function(e){return Object(Yt.a)({root:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100vw",height:84,padding:"0 20px"},colorPrimary:{background:e.palette.primary.main},icon:{}})}));function ma(){var e=sa();return E.a.createElement(ra.a,{position:"static",classes:e},E.a.createElement("img",{src:oa.a,width:40,height:34,className:e.icon,alt:"acala-logo"}),E.a.createElement(ua.a,null,E.a.createElement("img",{src:la.a,width:25,alt:"menu"})))}var da,pa=a(1069),ba=a(1070),fa=a(1071),Ea=a(1066),ha=a(1067),Oa=a(466),ga=a.n(Oa),ja=a(295),Ca=a.n(ja),va=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"inherit",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#1a1a1a";return{fontSize:e,lineHeight:"".concat(t,"px"),fontWeight:a,letterSpacing:0,fontFamily:n,color:r}},ya=(da={sidebar:{width:300}},ga()(Object(L.a)({palette:{common:{black:"#1a1a1a"},primary:{main:"#01279c",light:"#0055ff"},secondary:{main:"#6a6a6a"},text:{secondary:"#4d4d4d"}},shadows:Object.assign(Ca.a,["none","0 2px 20px rgba(1, 50, 205, 0.08)","0 20px 60px rgba(49, 69, 244, 0.1)"]),typography:{h1:va(22,26,700),h2:va(17,20,700),h6:va(12,14,700),subtitle1:va(18,22,500,"Roboto"),body1:va(22,32,500,"Roboto"),body2:va(15,22,500,"Roboto"),button:va(15,20,500,"Roboto")},overrides:{MuiSelect:{root:{"&:after":{content:""}}},MuiButton:{root:{minWidth:114,height:48,borderRadius:0,textTransform:"inherit"},containedPrimary:{backgroundColor:"#0055ff"},containedSecondary:{backgroundColor:"#bdbdbd"}},MuiDialog:{paper:{borderRadius:0,padding:"50px 34px 37px 34px",minWidth:355}},MuiDialogTitle:{root:{padding:0,marginBottom:35,"& .MuiTypography-h6":Object(L.a)({},va(22,22,500,"Roboto","#1a1a1a"))}},MuiDialogContent:{root:{padding:0,marginBottom:35}},MuiDialogActions:{root:{padding:0}},MuiListItem:{root:{paddingTop:10,paddingBottom:10,marginBottom:0,"&:last-child":{marginBottom:0}}},MuiListItemText:{primary:Object(L.a)({},va(15,22,500),{color:"#6a6a6a"}),secondary:Object(L.a)({},va(22,32,500),{color:"#1a1a1a"}),multiline:{marginTop:0,marginBottom:0}}}},da))),xa=function(e){return e.chain.connected},wa=function(e){return e.chain.pricesFeed},La=function(e){return e.chain.cdpTypes},ka=function(e){return function(t){return t.chain.cdpTypes.find((function(t){return t.asset===e}))}};function Na(e){return"number"===typeof e?function(t){var a=t.chain.pricesFeed.find((function(t){return t.asset===e}));return a?a.price:pe.fromNatural(0)}:function(t){return e.map((function(e){var a=t.chain.pricesFeed.find((function(t){return t.asset===e}));return a?a.price:pe.fromNatural(0)}))}}var Sa=function(e){return e.chain.constants},Ta=Object($t.a)((function(e){return Object(Yt.a)({root:{width:162,justifyContent:"space-between"},labelPlacementStart:{margin:0},label:Object(L.a)({color:e.palette.common.white},va(17,20,400,"Roboto",e.palette.common.white))})})),Ra=Object($t.a)((function(e){return Object(Yt.a)({root:{width:58,height:34,padding:0,margin:e.spacing(1)},switchBase:{padding:5,"&$checked":{"& + $track":{backgroundColor:e.palette.primary.light}}},track:{borderRadius:17,border:"4px solid ".concat("#616161"),background:"#616161",opacity:1},thumb:{width:24,height:24},checked:{"& + $track":{opacity:1}}})})),Aa=function(){var e=Ta(),t=Ra(),a=Object(g.c)(xa);return E.a.createElement(Ea.a,{control:E.a.createElement(ha.a,{classes:t,checked:a,color:"default",onChange:function(){}}),label:a?"Connected":"Connect",labelPlacement:"start",classes:e})},qa=a(1032),Pa=a(1068),Da=a(4),_a=Object($t.a)((function(e){return Object(Yt.a)({root:{height:60,padding:"0 0 0 50px",margin:0,color:e.palette.common.white,borderLeft:"5px solid transparent"},active:{borderLeft:"5px solid ".concat(e.palette.common.white),background:"rgba(255, 255, 255, 0.1)"},image:{marginRight:20}})})),Ia=function(e){var t=e.data,a=t.name,n=t.path,r=t.icon,c=t.href,o=(t.target,Object(Vt.g)()),i=_a();if(n){var l=function(e,t){return e?t.startsWith("/"+e):e===t||"/"===t}(n,o.location.pathname);return E.a.createElement(qa.a,{button:!0,className:Object(Da.a)(i.root,Object(w.a)({},i.active,l)),key:"product-".concat(a),onClick:function(){o.push(n)}},E.a.createElement("img",{src:r,className:i.image,alt:a}),E.a.createElement(Pa.a,{primary:a,primaryTypographyProps:{variant:"h2"}}))}if(c){return E.a.createElement(qa.a,{button:!0,className:Object(Da.a)(i.root),key:"product-".concat(a),onClick:function(){window.open(c)}},E.a.createElement("img",{src:r,className:i.image,alt:a}),E.a.createElement(Pa.a,{primary:a,primaryTypographyProps:{variant:"h2"}}))}return null},Ba=a(468),Fa=a.n(Ba),Ma=a(469),Ua=a.n(Ma),Ga=Object(f.createContext)({}),Wa=function(e){var t=e.children,a=Object(Vt.h)(),n={endpoint:Ua.a.parse(a.search).endpoint||"wss://testnet-node-1.acala.laminar.one/ws",logo:Fa.a,polkascanPrefix:"https://polkascan.io/pre/acala-mandala"};return E.a.createElement(Ga.Provider,{value:n},t)},Ha=function(){return Object(f.useContext)(Ga)},Za=function(){var e=Ha();return E.a.createElement("img",{src:e.logo,width:225,height:30,alt:"acala-logo"})},za=Object($t.a)((function(e){return Object(Yt.a)({root:{width:e.sidebar.width,flexShrink:0,"& .MuiTypography-h1":{color:e.palette.common.white},"& .MuiTypography-h2":{color:e.palette.common.white}},paper:{width:e.sidebar.width,background:e.palette.primary.main},header:{padding:"70px 0 62px 0"},connectBar:{marginBottom:90},products:{margin:"50px 0 112px 0"}})})),Va=function(e){var t=e.config,a=za();Object(g.c)(na);return E.a.createElement(pa.a,{variant:"permanent",open:!0,classes:{root:a.root,paper:a.paper}},E.a.createElement(ba.a,{className:a.header,container:!0,justify:"center",alignItems:"center"},E.a.createElement(Za,null)),E.a.createElement("div",{style:{flex:1}},E.a.createElement(fa.a,{className:a.products},t.products.map((function(e){return E.a.createElement(Ia,{data:e,key:"products-".concat(e.name)})}))),E.a.createElement(fa.a,null,t.socialMedia.map((function(e){return E.a.createElement(Ia,{data:e,key:"products-".concat(e.name)})})))),E.a.createElement(ba.a,{container:!0,justify:"center",className:a.connectBar},E.a.createElement(Aa,null)))},$a=a(1033),Ya=a(1072),Qa=a(1073),Ja=a(1074),Xa=a(1075),Ka=function(){function e(t){var a=t.language,n=t.feedback,r=void 0===n?"en":n,c=t.i18n;Object(le.a)(this,e),this.language=void 0,this.feedback=void 0,this.i18n=void 0,this.language=a||navigator.language,this.feedback=r,this.i18n=c,this.getTranslateResult=this.getTranslateResult.bind(this),this.translate=this.translate.bind(this)}return Object(ue.a)(e,[{key:"getTranslateResult",value:function(e){var t=function(e,t,a){console.warn("can not find i18n config for %c".concat(e,"%c, ").concat(a," | ").concat(t),"color: red","color: inherit")},a=Object(De.get)(this.i18n,[this.language,e]);return Object(De.isEmpty)(a)?(t(e,this.language,"current"),a=Object(De.get)(this.i18n,[this.feedback,e]),Object(De.isEmpty)(a)?(t(e,this.feedback,"feedback"),e):a):a}},{key:"translate",value:function(e,t){var a=this.getTranslateResult(e);return Object(De.template)(a,{interpolate:/{{([\s\S]+?)}}/g})(t)}}]),e}(),en=E.a.createContext({}),tn=function(e){var t=e.translator,a=e.children,n=Object(f.useState)(t),r=Object(qe.a)(n,2),c=r[0],o=r[1],i={t:c.translate,change:function(e){o(new Ka({language:e,feedback:c.feedback,i18n:c.i18n}))}};return E.a.createElement(en.Provider,{value:i},a)},an=function(){return Object(f.useContext)(en)},nn=E.a.forwardRef((function(e,t){return E.a.createElement($a.a,Object.assign({direction:"up",ref:t},e))})),rn=function(e){var t=e.open,a=an().t;return E.a.createElement(Ya.a,{open:t,TransitionComponent:nn},E.a.createElement(Qa.a,null,a("No polkadot{.js} extension found, please install it first!")),E.a.createElement(Ja.a,null,E.a.createElement(Xa.a,{variant:"contained",onClick:function(){window.open("https://chrome.google.com/webstore/detail/polkadot%7Bjs%7D-extension/mopnmbcafieddcagagdcbnhejhlodfdd")},color:"primary"},"GET IT")))},cn=E.a.forwardRef((function(e,t){return E.a.createElement($a.a,Object.assign({direction:"up",ref:t},e))})),on=function(e){var t=e.open,a=an().t;return E.a.createElement(Ya.a,{open:t,TransitionComponent:cn},E.a.createElement(Qa.a,null,a("No account found, please add account in your wallet extension or unlock it!")),E.a.createElement(Ja.a,null,E.a.createElement(Xa.a,{color:"primary",onClick:function(){window.reload()}},"Retry")))},ln=a(1076),un=E.a.forwardRef((function(e,t){return E.a.createElement($a.a,Object.assign({direction:"up",ref:t},e))})),sn=function(e){var t=e.open,a=an().t,n=Object(g.b)(),r=Object(g.c)(aa(["accountList"])),c=Object(qe.a)(r,1)[0],o=Object(f.useState)(0),i=Object(qe.a)(o,2),l=i[0],u=i[1];if(Object(f.useEffect)((function(){1===c.length&&n(J.request(0))}),[c,n]),c.length<=1)return null;var s=function(e){return function(){return u(e)}};return E.a.createElement(Ya.a,{open:t,TransitionComponent:un},E.a.createElement(ln.a,null,a("Select Account")),E.a.createElement(Qa.a,null,E.a.createElement(fa.a,null,c.map((function(e,t){return E.a.createElement(qa.a,{button:!0,onClick:s(t),selected:t===l,key:"account-".concat(e.address)},E.a.createElement(Pa.a,{secondary:Ot(e)}))})))),E.a.createElement(Ja.a,null,E.a.createElement(Xa.a,{variant:"contained",color:"primary",onClick:function(){n(J.request(l))}},a("Confirm"))))},mn=a(69),dn=a(1077),pn=function(e){var t=Object(mn.a)();return Object(dn.a)(t.breakpoints.down(e))},bn=function(e){return e.app.transactions},fn=a(144),En=a(1101),hn=a(470),On=a.n(hn),gn=a(471),jn=a.n(gn),Cn=a(244),vn=pe.fromNatural(0);function yn(e,t,a){return e.mul(t).mul(a)}function xn(e,t){return e.mul(t)}function wn(e,t){return e.div(t)}function Ln(e,t){return e.mul(t)}function kn(e,t){return t.isZero()?vn:e.div(t)}function Nn(e,t){return pe.fromNatural(Math.pow(1+e.toNumber(),31449600/t*1e3)-1)}function Sn(e,t,a){return t.isZero()||a.isZero()?vn:e.mul(t).div(a)}function Tn(e,t,a,n){return a.isZero()?vn:e.div(a).sub(t).div(n)}function Rn(e,t){return e.isZero()?vn:e.mul(t)}var An=pe.fromRational(2,1e3);function qn(e,t,a){if(t.add(e).isZero())return vn;var n=pe.fromNatural(1).sub(An);return t.sub(t.mul(a).div(a.add(e))).mul(n)}function Pn(e,t,a){if(e.isZero())return vn;var n=pe.fromNatural(1).sub(An);return t.mul(a).div(t.sub(e.div(n))).sub(a)}var Dn=a(243);function _n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return parseFloat(e.toPrecision(t))}function In(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return _n(Math.floor(e*t)/t)}function Bn(e){return String(e).replace(/(?!^)(?=(\d{3})+)/g,",")}function Fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=In(e.toNumber());return Number.isNaN(a)?"0":Number.isFinite(a)?"".concat(a," ").concat(t):"Infinity"}function Mn(e){var t=In(e.mul(pe.fromNatural(100)).toNumber(),100);return Number.isNaN(t)?"0":Number.isFinite(t)?t+"%":"Infinity"}function Un(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e.toNumber();return Number.isNaN(a)?"~":Number.isFinite(a)?"".concat(t).concat(Bn(In(e.toNumber()))):"~"}var Gn=Object($t.a)((function(e){return Object(Yt.a)({warning:{color:Dn.a[600]},primary:{color:e.palette.primary.light},normal:{color:e.palette.common.black}})})),Wn=function(e){var t=e.data,a=e.type,n=void 0===a?"balance":a,r=e.color,c=void 0===r?"normal":r,o=e.suffix,i=e.prefix,l=Gn(),u=function(e){return E.a.createElement("span",{className:l[c]}," ",e," ")};return u("balance"===n?Fn(t,o):"ratio"===n?Mn(t):Un(t,i))},Hn=pe.fromNatural(0),Zn=function(e){var t=e.data,a=an().t,n=Object(g.c)(ka(t.data.asset));if(!n)return null;if("swapCurrency"===t.type)return E.a.createElement("span",null,"Swap Currency");if("updateLoan"===t.type){var r=t.data,c=ft(r.asset),o=ft(1),i=[];return r.collateral.isGreaterThan(Hn)&&i.push("".concat(a("Deposit")," ").concat(Fn(r.collateral)," ").concat(c)),r.collateral.isLessThan(Hn)&&i.push("".concat(a("Withdraw")," ").concat(Fn(r.collateral.negated())," ").concat(c)),r.debit.isGreaterThan(Hn)&&i.push("".concat(a("Generate")," ").concat(Fn(xn(r.debit,n.debitExchangeRate))," ").concat(o)),r.debit.isLessThan(Hn)&&i.push("".concat(a("Pay Back")," ").concat(Fn(xn(r.debit.negated(),n.debitExchangeRate))," ").concat(o)),E.a.createElement("span",null,i.join(", "))}return console.warn("unsupport tx type, please update tx-detail component"),E.a.createElement("span",null)};function zn(e){return E.a.createElement($a.a,Object.assign({},e,{direction:"left"}))}var Vn=Object($t.a)((function(e){return Object(Yt.a)({root:{background:e.palette.common.white},content:{marginLeft:e.spacing(2)},success:{color:Cn.a[600]},spin:{width:26,height:26}})})),$n=function(){var e=Vn(),t=Object(g.c)(bn),a=function(t){return E.a.createElement(ba.a,{container:!0,direction:"column",alignItems:"flex-start",className:e.content},E.a.createElement(ba.a,{item:!0},E.a.createElement(fn.a,{variant:"h2"},E.a.createElement(Zn,{data:t}))),t.hash&&E.a.createElement(ba.a,{item:!0},E.a.createElement(fn.a,{variant:"body2"},"tx: ",gt(t.hash))))},n=function(t){return"pending"===t.status?E.a.createElement(Qt.a,{size:26,classes:{svg:e.spin}}):"success"===t.status?E.a.createElement(On.a,{className:e.success,fontSize:"large"}):"failure"===t.status?E.a.createElement(jn.a,{color:"error",fontSize:"large"}):void 0};return E.a.createElement("div",null,t.map((function(t){return E.a.createElement(En.a,{key:"".concat(t.hash,"-").concat(t.status),ContentProps:{className:e.root},anchorOrigin:{vertical:"top",horizontal:"right"},TransitionComponent:zn,open:!0,message:E.a.createElement(ba.a,{container:!0,alignItems:"center",wrap:"nowrap"},n(t),a(t))})})))},Yn=Object($t.a)((function(e){return Object(Yt.a)({root:Object(w.a)({display:"flex",height:"100%",width:"100%",background:e.palette.background.default},e.breakpoints.down("sm"),{flexDirection:"column"}),content:{flexGrow:1},toolbar:Object(L.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar)})})),Qn=function(e){var t=e.children,a=Object(g.b)(),n=Yn(),r=Object(g.c)(S(Kt.chain.CONNECT_ASYNC)),c=Object(g.c)(aa(["accountStatus","accountList","extensionStatus","error"])),o=Object(qe.a)(c,4),i=o[0],l=o[1],u=o[2],s=o[3],m=Ha().endpoint,d=pn("sm");Object(f.useEffect)((function(){a(Kt.chain.connectAsync.request({endpoint:m})),a(Kt.account.importAccount.request(""))}),[a]);return r?E.a.createElement(Xt,null):E.a.createElement("div",{className:n.root},d?E.a.createElement(ma,null):E.a.createElement(Va,{config:bt}),"success"===u&&"success"===i?E.a.createElement("div",{className:n.content},t):null,E.a.createElement(rn,{open:"no extends found"===s}),E.a.createElement(on,{open:"no accounts found"===s}),E.a.createElement(sn,{open:0!==l.length&&"none"===i}),E.a.createElement($n,null))},Jn=a(1094),Xn=a(1080),Kn=function(e){return function(t){return t.loan["".concat(e,"Status")]}},er=function(e){return e.loan.txRecord.slice().reverse()},tr=function(e){return e.loan.loans.filter((function(e){return!e.collateral.isZero()||!e.debit.isZero()}))},ar=function(e){return function(t){return t.loan.loans.find((function(t){return t.asset===e}))}},nr=a(8),rr=a(1079),cr=a(1030),or=Object(cr.a)((function(e){return{root:Object(L.a)({marginBottom:54},va(34,40,500,"Roboto",e.palette.common.black),Object(w.a)({},e.breakpoints.down("sm"),Object(L.a)({textAlign:"center",marginBottom:26,marginTop:35},va(17,20,500,"Roboto",e.palette.common.black))))}}))(fn.a),ir=function(e){var t=e.children;return E.a.createElement(or,null,t)},lr=Object(nr.a)((function(e){var t;return{root:(t={boxSizing:"content-box",padding:"74px 54px",marginLeft:0},Object(w.a)(t,e.breakpoints.down("sm"),{padding:"0 20px"}),Object(w.a)(t,"&.fullScreen",{minWidth:"100%",boxSizing:"border-box"}),t)}}))(rr.a),ur=function(e){var t=e.children,a=e.title,n=e.style,r=e.className,c=e.fullScreen;return E.a.createElement(lr,{maxWidth:!1,style:n,className:Object(Da.a)(r,{fullScreen:c})},a&&E.a.createElement(ir,null,a),t)},sr=a(301),mr=Object($t.a)((function(e){var t,a;return Object(Yt.a)({root:(t={padding:"24px 26px"},Object(w.a)(t,e.breakpoints.down("sm"),{padding:"24px 30px"}),Object(w.a)(t,"& $header",Object(L.a)({},va(18,22,500,"Roboto",e.palette.common.black),{paddingBottom:16.5,marginBottom:18.5})),t),rootLarge:(a={padding:"32px 26px"},Object(w.a)(a,e.breakpoints.down("sm"),{padding:"32px 30px"}),Object(w.a)(a,"& $header",{paddingBottom:8.5,marginBottom:18.5}),a),header:{},headerDivider:{borderBottom:"1px solid ".concat(e.palette.primary.light)}})})),dr=function(e){var t,a=e.header,n=e.children,r=e.size,c=void 0===r?"normal":r,o=e.elevation,i=void 0===o?1:o,l=e.headerClassName,u=e.divider,s=void 0===u||u,m=e.marginTop,d=void 0===m?0:m,p=e.className,b=e.style,f=mr(),h=Object(mn.a)();return E.a.createElement(sr.a,{square:!0,elevation:i,className:Object(Da.a)(p,(t={},Object(w.a)(t,f.root,"normal"===c),Object(w.a)(t,f.rootLarge,"large"===c),t)),style:Object(L.a)({marginTop:h.spacing(d)},b)},E.a.createElement(ba.a,{container:!0,direction:"column",wrap:"nowrap"},a&&E.a.createElement("div",{className:Object(Da.a)(f.header,l,Object(w.a)({},f.headerDivider,s))},a),E.a.createElement(Jn.a,null,n)))},pr=function(e){var t=e.className,a=e.style,n=an().t,r=Object(g.b)(),c=Object(g.c)(wa);return Object(f.useEffect)((function(){r(Kt.chain.fetchPricesFeed.request(Array.from(mt.keys())))}),[r]),c.length?E.a.createElement(dr,{size:"normal",elevation:1,header:E.a.createElement(fn.a,{variant:"subtitle1"},n("Price Feed")),className:t,style:a},E.a.createElement(fa.a,null,c.map((function(e){var t=e.asset,a=e.price;return E.a.createElement(qa.a,{disableGutters:!0,key:"feed-prices-".concat(t)},E.a.createElement(ba.a,{container:!0,justify:"space-between"},E.a.createElement(fn.a,{variant:"body2"},n("{{asset}} in USD",{asset:ft(t)})),E.a.createElement(fn.a,{variant:"body2"},Un(a,"$"))))})))):E.a.createElement(Xn.a,{variant:"rect",height:240})},br=a(478),fr=a(1029),Er=a(472),hr=a.n(Er),Or=Object(br.a)((function(e){var t;return Object(fr.a)({root:Object(w.a)({},e.breakpoints.down("sm"),{flexDirection:"column"}),paper:(t={display:"flex",flexDirection:"column",justifyContent:"space-between",flexShrink:0,minWidth:120,height:100,padding:"27px 16px 8px",cursor:"pointer"},Object(w.a)(t,e.breakpoints.down("sm"),{padding:"13px 52px",width:"auto",height:"auto",flexDirection:"row",alignItems:"center"}),Object(w.a)(t,"&.active",{border:"1px solid ".concat(e.palette.primary.light)}),Object(w.a)(t,"&.addContent",{alignItem:"center",justifyContent:"center"}),Object(w.a)(t,"&.overview",{alignItems:"center",justifyContent:"center",padding:8,textTransform:"uppercase"}),t),header:Object(w.a)({},e.breakpoints.down("sm"),{width:"auto","& img":{marginLeft:10}}),addLoan:Object(w.a)({},e.breakpoints.down("sm"),{marginTop:13,"& $paper":{flexDirection:"column",height:89}})})})),gr=Object(nr.a)((function(e){return{root:Object(L.a)({marginTop:9.2,textAlign:"center"},va(15,22,500,"Roboto",e.palette.secondary.main))}}))(fn.a),jr=function(e){var t=e.active,a=e.onClick,n=Or(),r=an().t;return E.a.createElement(ba.a,{item:!0,onClick:a,className:Object(Da.a)(n.addLoan,{active:t})},E.a.createElement(sr.a,{elevation:1,className:Object(Da.a)(n.paper,{addContent:!0}),square:!0},E.a.createElement("img",{src:hr.a,alt:"add"}),E.a.createElement(gr,null,r("Create Loan"))))},Cr=function(e){var t=e.active,a=e.onClick,n=Or();return E.a.createElement(ba.a,{item:!0,onClick:a},E.a.createElement(sr.a,{elevation:1,className:Object(Da.a)(n.paper,{active:t,overview:!0}),square:!0},E.a.createElement(fn.a,{variant:"body2"},"Overview")))},vr=pe.fromNatural(0),yr=function(e){var t=e.active,a=e.onOverview,n=e.onAdd,r=e.onSelect,c=Or(),o=Object(g.c)(La),i=Object(g.c)(tr),l=Object(g.c)(wa),u=pn("sm"),s=l.find((function(e){return 1===e.asset}))||{price:vr};return E.a.createElement(ba.a,{container:!0,spacing:u?0:3,className:c.root},!Object(De.isEmpty)(i)&&E.a.createElement(Cr,{onClick:a,active:"overview"===t}),i.map((function(e){var a=o.find((function(t){return t.asset===e.asset}));if(!a)return null;var n=l.find((function(t){return t.asset===e.asset}))||{price:vr},i=kn(Ln(e.collateral,n.price),yn(e.debit,a.debitExchangeRate,s.price)),m=i.isGreaterThan(a.requiredCollateralRatio.add(pe.fromNatural(.2)));return E.a.createElement(ba.a,{item:!0,key:"loan-type-".concat(e.asset),onClick:function(){return r(e.asset)}},E.a.createElement(sr.a,{elevation:u?0:1,className:Object(Da.a)(c.paper,{active:t===e.asset}),square:!0},E.a.createElement(ba.a,{container:!0,justify:"space-between",alignItems:"center",className:c.header},E.a.createElement(fn.a,{variant:"h6"},ft(e.asset)),E.a.createElement("img",{src:Et(e.asset),alt:"icon-".concat(e.asset),width:20})),E.a.createElement(fn.a,{variant:"body1"},E.a.createElement(Wn,{type:"ratio",data:i,color:m?"primary":"warning"}))))})),E.a.createElement(jr,{onClick:n,active:"add_loan"===t}))},xr=function(e){var t,a=e.className,n=e.style,r=an().t,c=Object(g.c)("number"===typeof(t=1)?function(e){var a=e.chain.totalIssuance.find((function(e){return e.asset===t}));return a?a.issuance:pe.fromNatural(0)}:function(e){return t.map((function(t){var a=e.chain.totalIssuance.find((function(e){return e.asset===t}));return a?a.issuance:pe.fromNatural(0)}))});return E.a.createElement(dr,{size:"normal",elevation:1,header:E.a.createElement(fn.a,{variant:"subtitle1"},r("System Info")),className:a,style:n},E.a.createElement(fa.a,null,E.a.createElement(qa.a,{disableGutters:!0},E.a.createElement(ba.a,{container:!0,justify:"space-between"},E.a.createElement(fn.a,{variant:"body2"},r("aUSD in Supply")),E.a.createElement(fn.a,{variant:"body2"},E.a.createElement(Wn,{type:"price",data:c,prefix:"$"}))))))},wr=a(1081),Lr=a(1095),kr=Object(nr.a)((function(e){return{root:Object(L.a)({},va(18,22,500,"Roboto",e.palette.common.black))}}))(wr.a),Nr=function(e){var t=e.selected,a=e.cdpTypes,n=e.onChange;if(!a.find((function(e){return e.asset===t})))return n(a[0].asset),null;return E.a.createElement(Lr.a,{value:t,onChange:function(e){var t=Number(e.target.value);n(t)},disableUnderline:!0},a.map((function(e){return E.a.createElement(kr,{value:e.asset,key:"colateral-".concat(e.asset)},ft(e.asset))})))},Sr=function(e){var t=e.current,a=e.className,n=e.style,r=an().t,c=Object(g.c)(La),o=Object(f.useState)(t),i=Object(qe.a)(o,2),l=i[0],u=i[1],s=Object(g.c)(Sa);if(!c.length||!s)return null;var m=c.find((function(e){return e.asset===l}));return E.a.createElement(dr,{size:"normal",elevation:1,header:E.a.createElement(ba.a,{container:!0,justify:"space-between",alignItems:"center"},E.a.createElement(fn.a,{variant:"subtitle1"},r("Collateral")),E.a.createElement(Nr,{selected:l,onChange:function(e){u(e)},cdpTypes:c})),className:a,style:n},m&&E.a.createElement(fa.a,null,E.a.createElement(qa.a,{disableGutters:!0},E.a.createElement(ba.a,{container:!0,justify:"space-between"},E.a.createElement(fn.a,{variant:"body2"},r("Liquidation Ratio")),E.a.createElement(fn.a,{variant:"body2"},E.a.createElement(Wn,{type:"ratio",data:m.liquidationRatio,suffix:"%"})))),E.a.createElement(qa.a,{disableGutters:!0},E.a.createElement(ba.a,{container:!0,justify:"space-between"},E.a.createElement(fn.a,{variant:"body2"},r("Required Collateral Ratio")),E.a.createElement(fn.a,{variant:"body2"},E.a.createElement(Wn,{type:"ratio",data:m.requiredCollateralRatio,suffix:"%"})))),E.a.createElement(qa.a,{disableGutters:!0},E.a.createElement(ba.a,{container:!0,justify:"space-between"},E.a.createElement(fn.a,{variant:"body2"},r("Stability Fee/Interest")),E.a.createElement(Wn,{type:"ratio",data:Nn(m.stabilityFee,s.babe.expectedBlockTime),suffix:"%"})))))},Tr=a(1084),Rr=function(e){var t=e.className;return E.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",className:t},E.a.createElement("g",{id:"Glyphs-\u2013-24/Close",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0.7"},E.a.createElement("path",{d:"M6.70710678,5.29289322 L12,10.585 L17.2928932,5.29289322 C17.6834175,4.90236893 18.3165825,4.90236893 18.7071068,5.29289322 C19.0976311,5.68341751 19.0976311,6.31658249 18.7071068,6.70710678 L13.415,12 L18.7071068,17.2928932 C19.0976311,17.6834175 19.0976311,18.3165825 18.7071068,18.7071068 C18.3165825,19.0976311 17.6834175,19.0976311 17.2928932,18.7071068 L12,13.415 L6.70710678,18.7071068 C6.31658249,19.0976311 5.68341751,19.0976311 5.29289322,18.7071068 C4.90236893,18.3165825 4.90236893,17.6834175 5.29289322,17.2928932 L10.585,12 L5.29289322,6.70710678 C4.90236893,6.31658249 4.90236893,5.68341751 5.29289322,5.29289322 C5.68341751,4.90236893 6.31658249,4.90236893 6.70710678,5.29289322 Z",id:"Style",fill:"#1A1A1A"})))},Ar=a(5),qr=a(1098),Pr=function(e){var t=e.defaultValue,a=e.max,n=e.min,r=e.error,c=e.onError,o=e.onChange,i=Object(Ar.a)(e,["defaultValue","max","min","error","onError","onChange"]),l=Object(f.useState)(""),u=Object(qe.a)(l,2),s=u[0],m=u[1],d=Object(f.useState)(!1),p=Object(qe.a)(d,2),b=p[0],h=p[1],O=/^([1-9]\d*|0)(\.\d+)?$/;return Object(f.useEffect)((function(){h(!!r)}),[r]),Object(f.useEffect)((function(){O.test(s)&&function(e){a&&e>a&&m(String(a)),n&&e<n&&m(String(n))}(Number(s))}),[s]),Object(f.useEffect)((function(){!s||O.test(s)?(o&&o(Number(s)),h(!1)):(c&&c(),h(!0))}),[s]),Object(f.useEffect)((function(){m(String(t||""))}),[t]),E.a.createElement(qr.a,Object.assign({},i,{variant:"standard",type:"text",value:s,error:b,onChange:function(e){m(e.target.value)}}))},Dr=pe.fromNatural(0),_r=Object($t.a)((function(e){return Object(Yt.a)({root:Object(L.a)({width:"100%"},va(22,32,500,"Roboto",e.palette.common.black)),underline:{color:"#0123cc",background:"#0123cc",borderBottom:"#0123cc","&::after":{borderBottom:"#0123cc"}}})})),Ir=Object(nr.a)((function(){return{root:{marginTop:26}}}))(fa.a),Br=Object(nr.a)((function(e){return{root:Object(L.a)({marginRight:8,minWidth:"auto",height:"auto"},va(22,32,500,"Roboto",e.palette.secondary.main))}}))(Xa.a),Fr=function(e){return E.a.createElement(Mr,e)},Mr=function(e){var t=e.title,a=e.confirmBtnText,n=e.borrowed,r=e.collateralRatio,c=e.liquidationPrice,o=e.amount,i=e.placeholder,l=e.max,u=e.open,s=e.onChange,m=e.onConfirm,d=e.onClose,p=an().t,b=Object(g.b)(),h=_r(),O=Object(g.c)(Kn("updateLoan"));Object(f.useEffect)((function(){s(0)}),[]);return Object(f.useEffect)((function(){"success"===O&&(b(Kt.loan.reset()),d&&d())}),[O,b,d]),E.a.createElement(Ya.a,{open:u,onClose:d},E.a.createElement(ln.a,null,E.a.createElement(ba.a,{container:!0,justify:"space-between",alignItems:"center"},E.a.createElement("p",null,t),E.a.createElement(ua.a,{onClick:d},E.a.createElement(Rr,null)))),E.a.createElement(Qa.a,null,E.a.createElement(Pr,{classes:{root:h.root},min:0,max:l,defaultValue:o,onChange:s,InputProps:{placeholder:i,classes:{root:h.root},endAdornment:E.a.createElement(Tr.a,{position:"start"},E.a.createElement(Br,{disableRipple:!0,size:"small",onClick:function(){s(l)}},"max"))}}),E.a.createElement(Jn.a,{paddingTop:4}),E.a.createElement(ba.a,{container:!0,justify:"space-between"},E.a.createElement(Xa.a,{variant:"contained",color:"primary",onClick:m,disabled:"none"!==O},a),E.a.createElement(Xa.a,{variant:"contained",color:"secondary",onClick:d},p("cancel"))),E.a.createElement(Ir,{disablePadding:!0},E.a.createElement(qa.a,{disableGutters:!0},E.a.createElement(Pa.a,{primary:p("Borrowed aUSD"),secondary:p("{{number}} {{asset}}",{number:Fn(n),asset:"aUSD"})})),E.a.createElement(qa.a,{disableGutters:!0},E.a.createElement(Pa.a,{primary:p("New Collateral Ratio"),secondary:Mn(r)})),E.a.createElement(qa.a,{disableGutters:!0},E.a.createElement(Pa.a,{primary:p("New Liquidation Price"),secondary:Un(c,"$")})))))},Ur=function(e){var t=Object(f.useRef)(!1),a=e.action,n=e.current,r=e.onClose,c=an().t,o=Object(g.b)(),i=Object(g.c)(Na([1,n])),l=Object(qe.a)(i,2),u=l[0],s=l[1],m=Object(g.c)(ta(n)),d=Object(g.c)(ka(n)),p=Object(g.c)(ar(n)),b=ft(1),E=ft(n),h=Object(f.useState)(0),O=Object(qe.a)(h,2),j=O[0],C=O[1],v=Object(f.useState)(Dr),y=Object(qe.a)(v,2),x=y[0],w=y[1],k=Object(f.useState)(Dr),N=Object(qe.a)(k,2),S=N[0],T=N[1],R=Object(f.useState)(Dr),A=Object(qe.a)(R,2),q=A[0],P=A[1];if(Object(f.useEffect)((function(){if(d&&p&&!1===t.current){var e=yn(p.debit,d.debitExchangeRate,u);w(e),T(kn(Ln(p.collateral,s),yn(p.debit,d.debitExchangeRate,u))),P(Rn(yn(p.debit,d.debitExchangeRate,u),d.liquidationRatio)),t.current=!0}}),[d,p,u,s]),!d||!p)return null;var D=yn(p.debit,d.debitExchangeRate,u),_=Ln(p.collateral,s),I=Tn(_,D,d.requiredCollateralRatio,u),B=Sn(D,d.requiredCollateralRatio,s),F=p.collateral.sub(B),M=Object(L.a)({},e,{amount:j,borrowed:x,collateralRatio:S,liquidationPrice:q,onClose:function(){r&&r()}});return"payback"===a?Fr(Object(L.a)({title:c("Payback {{ asset}}",{asset:b}),confirmBtnText:c("Payback"),placeholder:"".concat(Fn(D)," max"),max:D.toNumber(5),onChange:function(e){C(e);var t=D.sub(pe.fromNatural(e));w(t),T(kn(_,t)),P(Rn(t,d.liquidationRatio))},onConfirm:function(){if(!j)return!1;var e=wn(pe.fromNatural(j),d.debitExchangeRate);o(Kt.loan.updateLoan.request({asset:n,collateral:Dr,debit:e.negated()}))}},M)):"generate"===a?Fr(Object(L.a)({title:c("Generate {{asset}}",{asset:b}),confirmBtnText:c("Generate"),placeholder:"".concat(Fn(I)," max"),max:I.toNumber(5),onChange:function(e){C(e);var t=D.add(pe.fromNatural(e));w(t),T(kn(_,t)),P(Rn(t,d.liquidationRatio))},onConfirm:function(){if(!j)return!1;var e=wn(pe.fromNatural(j),d.debitExchangeRate);o(Kt.loan.updateLoan.request({asset:n,collateral:Dr,debit:e}))}},M)):"deposit"===a?Fr(Object(L.a)({title:c("Disposit {{asset}}",{asset:E}),confirmBtnText:c("Deposit"),placeholder:"".concat(Fn(m)," max"),max:m.toNumber(5),onChange:function(e){C(e);var t=Ln(p.collateral.add(pe.fromNatural(e)),s);T(kn(t,D)),P(Rn(D,d.liquidationRatio))},onConfirm:function(){if(!j)return!1;o(Kt.loan.updateLoan.request({asset:n,collateral:pe.fromNatural(j),debit:Dr}))}},M)):"withdraw"===a?Fr(Object(L.a)({title:c("Withdraw {{asset}}",{asset:E}),confirmBtnText:c("Withdraw"),placeholder:"".concat(Fn(F)," max"),max:F.toNumber(5),onChange:function(e){C(e);var t=Ln(p.collateral.sub(pe.fromNatural(e)),s);T(kn(t,D)),P(Rn(D,d.liquidationRatio))},onConfirm:function(){if(!j)return!1;o(Kt.loan.updateLoan.request({asset:n,collateral:pe.fromNatural(j).negated(),debit:Dr}))}},M)):null},Gr=Object(cr.a)((function(e){return{root:Object(L.a)({},va(30,32,500,"Roboto",e.palette.common.black))}}))(fn.a),Wr=Object(cr.a)((function(e){return{secondary:Object(L.a)({marginTop:9},va(15,22,500,"Roboto",e.palette.common.black))}}))(Pa.a),Hr=function(e){var t=e.current,a=an().t,n=Object(g.c)(ar(t)),r=Object(g.c)(ka(t)),c=Object(g.c)(Na([1,t])),o=Object(qe.a)(c,2),i=o[0],l=o[1],u=ft(t),s=ft(1),m=Object(f.useState)({open:!1,action:"any"}),d=Object(qe.a)(m,2),p=d[0],b=d[1],h=pn("sm");if(!r||!n)return null;var O=Sn(yn(n.debit,r.debitExchangeRate,i),r.requiredCollateralRatio,l);return E.a.createElement(ba.a,{container:!0,spacing:5,direction:h?"column":"row"},E.a.createElement(Ur,Object.assign({},p,{onClose:function(){return b({open:!1,action:"any"})},current:t})),E.a.createElement(ba.a,{item:!0,sm:12,lg:6},E.a.createElement(dr,{size:"large",elevation:1,header:E.a.createElement(ba.a,{container:!0,justify:"space-between",alignItems:"center"},E.a.createElement(fn.a,{variant:"subtitle1"},a("Borrowed aUSD")),E.a.createElement(Gr,null,E.a.createElement(Wn,{type:"price",data:yn(n.debit,r.debitExchangeRate,i),prefix:"$"})))},E.a.createElement(fa.a,{disablePadding:!0},E.a.createElement(qa.a,{disableGutters:!0},E.a.createElement(Wr,{primary:a("Can Pay Back"),secondary:a("{{number}} {{asset}}",{number:Fn(xn(n.debit,r.debitExchangeRate)),asset:s})}),E.a.createElement(Xa.a,{variant:"contained",color:"primary",onClick:function(){return b({open:!0,action:"payback"})}},a("Payback"))),E.a.createElement(qa.a,{disableGutters:!0},E.a.createElement(Wr,{primary:a("Can Generate"),secondary:a("{{number}} {{asset}}",{number:Fn(Tn(Ln(n.collateral,l),yn(n.debit,r.debitExchangeRate,i),r.requiredCollateralRatio,i)),asset:s})}),E.a.createElement(Xa.a,{variant:"contained",color:"primary",onClick:function(){return b({open:!0,action:"generate"})}},a("Generate")))))),E.a.createElement(ba.a,{item:!0,sm:12,lg:6},E.a.createElement(dr,{size:"large",elevation:1,header:E.a.createElement(ba.a,{container:!0,justify:"space-between",alignItems:"center"},E.a.createElement(fn.a,{variant:"subtitle1"},a("Collateral {{asset}}",{asset:u})),E.a.createElement(Gr,null,E.a.createElement(Wn,{type:"balance",data:n.collateral,suffix:ft(t)})))},E.a.createElement(fa.a,{disablePadding:!0},E.a.createElement(qa.a,{disableGutters:!0},E.a.createElement(Wr,{primary:a("Required for Safety"),secondary:a("{{number}} {{asset}}",{number:Fn(O),asset:u})}),E.a.createElement(Xa.a,{variant:"contained",color:"primary",onClick:function(){return b({open:!0,action:"deposit"})}},a("Deposit"))),E.a.createElement(qa.a,{disableGutters:!0},E.a.createElement(Wr,{primary:a("Able to Withdraw"),secondary:a("{{number}} {{asset}}",{number:Fn(n.collateral.sub(O)),asset:u})}),E.a.createElement(Xa.a,{variant:"contained",color:"primary",onClick:function(){return b({open:!0,action:"withdraw"})}},a("Withdraw")))))))},Zr=a(1085),zr=a(1086),Vr=a(1087),$r=a(1088),Yr=a(1089),Qr=a(240),Jr=a.n(Qr),Xr=function(e){var t=e.current,a=an().t,n=Object(g.c)(er);return t&&n.length?E.a.createElement(dr,{size:"large",elevation:1,header:E.a.createElement(fn.a,{variant:"subtitle1"},a("Transaction History")),divider:!1},n.map((function(e){return E.a.createElement("div",{key:"".concat(e.type,"-").concat(e.hash)},E.a.createElement(ba.a,{container:!0,justify:"space-between"},E.a.createElement(ba.a,{item:!0},a("Action")),E.a.createElement(ba.a,{item:!0},e.type)),E.a.createElement(ba.a,{container:!0,justify:"space-between"},E.a.createElement(ba.a,{item:!0},a("When")),E.a.createElement(ba.a,{item:!0},Jr()(e.time).format("YYYY/MM/DD HH:mm"))),E.a.createElement(ba.a,{container:!0,justify:"space-between"},E.a.createElement(ba.a,{item:!0},a("Tx Hash")),E.a.createElement(ba.a,{item:!0},gt(e.hash))))}))):E.a.createElement(Xn.a,{variant:"rect",height:240})},Kr=function(e){var t=Ha(),a="";return e.extrinsic&&(a="".concat(t.polkascanPrefix,"/extrinsic/").concat(e.extrinsic)),E.a.createElement("a",{href:a,target:"_blank"},e.children)},ec=Object(nr.a)((function(e){return{root:{borderBottom:"none",color:e.palette.text.secondary}}}))(Zr.a),tc=Object(nr.a)((function(e){return{root:Object(L.a)({color:e.palette.common.black},va(15,22,500,"Roboto"))}}))(Zr.a),ac=function(e){var t=e.current,a=an().t,n=Object(g.c)(er),r=pn("sm");return t&&n.length?r?E.a.createElement(Xr,{current:t}):E.a.createElement(dr,{size:"large",elevation:1,header:E.a.createElement(fn.a,{variant:"subtitle1"},a("Transaction History")),divider:!1},E.a.createElement(zr.a,null,E.a.createElement(Vr.a,null,E.a.createElement($r.a,null,E.a.createElement(tc,null,a("Token")),E.a.createElement(tc,null,a("Action")),E.a.createElement(tc,null,a("When")),E.a.createElement(tc,null,a("Tx Hash")))),E.a.createElement(Yr.a,null,n.map((function(e){return E.a.createElement($r.a,{key:"transaction-history-".concat(e.hash)},E.a.createElement(ec,null,ft(e.data.asset)),E.a.createElement(ec,null,E.a.createElement(Zn,{data:e})),E.a.createElement(ec,null,Jr()(e.time).format("YYYY/MM/DD HH:mm")),E.a.createElement(ec,null,E.a.createElement(Kr,{extrinsic:e.hash},gt(e.hash))))}))))):null},nc=Object(nr.a)((function(e){var t;return{root:(t={flex:"1 1 auto",padding:"26px 32px","&:last-child":{marginRight:0}},Object(w.a)(t,e.breakpoints.down("sm"),{padding:"3px 32px"}),Object(w.a)(t,"& .MuiGrid-root",{height:"100%"}),t)}}))(sr.a),rc=Object($t.a)((function(e){return Object(Yt.a)({paper:Object(w.a)({},e.breakpoints.down("sm"),{paddingTop:22,paddingBottom:27}),card:Object(w.a)({minWidth:154,width:"19%",marginBottom:"1%",flexGrow:0,flexShrink:0,"&:last-child":{marginRight:0}},e.breakpoints.down("sm"),{width:"100%"}),content:{marginTop:22}})})),cc=function(e){var t=e.className,a=e.header,n=e.content,r=e.formatterProps,c=e.elevation,o=void 0===c?2:c,i=pn("sm"),l=rc();return E.a.createElement(nc,{elevation:i?0:o,square:!0,className:Object(Da.a)(l.card,t)},E.a.createElement(ba.a,{container:!0,direction:i?"row":"column",justify:"space-between",alignItems:"center",wrap:"nowrap"},E.a.createElement(fn.a,{variant:"body2"},a),E.a.createElement(fn.a,{variant:"body1",className:l.content},E.a.createElement(Wn,Object.assign({data:n},r)))))},oc=Object($t.a)((function(e){return Object(Yt.a)({container:{marginBottom:"-1%"},paper:Object(w.a)({},e.breakpoints.down("sm"),{paddingTop:22,paddingBottom:27})})})),ic=function(e){var t=e.current,a=an().t,n=oc(),r=Object(g.c)(ka(t)),c=Object(g.c)(ar(t)),o=Object(g.c)(Na([1,t])),i=Object(qe.a)(o,2),l=i[0],u=i[1],s=Object(g.c)(Sa),m=pn("sm");if(!r||!c||!s)return null;var d=kn(Ln(c.collateral,u),yn(c.debit,r.debitExchangeRate,l)),p=d.isGreaterThan(r.requiredCollateralRatio.add(pe.fromNatural(.2))),b=function(){return E.a.createElement(E.a.Fragment,null,E.a.createElement(cc,{header:a("Interest Rate"),content:Nn(r.stabilityFee,s.babe.expectedBlockTime),formatterProps:{type:"ratio"}}),E.a.createElement(cc,{header:a("Current Collateral Ratio"),content:d,formatterProps:{type:"ratio",color:p?"primary":"warning"}}),E.a.createElement(cc,{header:a("Liquidation Ratio"),content:r.liquidationRatio,formatterProps:{type:"ratio"}}),E.a.createElement(cc,{header:a("Liquidation Price"),content:Rn(yn(c.debit,r.debitExchangeRate,l),r.liquidationRatio),formatterProps:{type:"price",prefix:"$"}}),E.a.createElement(cc,{header:a("Liquidation Penalty"),content:r.liquidationPenalty,formatterProps:{type:"ratio"}}))};return E.a.createElement(ba.a,{container:!0,direction:m?"column":"row",justify:"space-between",className:n.container},m?E.a.createElement(sr.a,{elevation:m?2:0,square:!0,className:n.paper},b()):b())},lc=a(167),uc=a.n(lc),sc=E.a.memo((function(e){var t=e.context,a=e.data,n=e.children;a=Object.assign({},a);var r=Object(f.useState)(a),c=Object(qe.a)(r,2),o=c[0],i=c[1],l={data:o,setValue:function(e,t){var n=Object(De.set)(a,[e,"value"],t);i(Object(L.a)({},n))},setError:function(e,t){i(Object.assign({},Object(De.set)(a,[e,"error"],t)))},clearError:function(e){i(Object.assign({},Object(De.set)(a,[e,"error"],"")))},checkVerify:function(e){var t=!0;return Object.keys(a).forEach((function(e){var n=Object(De.get)(a,[e,"validator"]),r=Object(De.get)(a,[e,"value"]);n&&l.setError(e,n(r));var c=Object(De.get)(a,[e,"error"]);t=t&&!c})),t&&e(),t}};return E.a.createElement(t.Provider,{value:l},n)}));function mc(e){return Object(f.useContext)(e)}var dc,pc=Object($t.a)((function(e){return Object(Yt.a)({item:Object(L.a)({},va(21,28,500,"Roboto",e.palette.common.black)),arrow:{margin:"20px 0",transform:"rotate(90deg)"},tips:Object(L.a)({margin:"48px 0 28px 0"},va(15,20,400,"Roboto"),{textAlign:"center"})})})),bc=Object(nr.a)((function(){return{paper:{paddingTop:22}}}))(Ya.a),fc=function(e){var t=e.steps,a=Object(f.useState)(!0),n=Object(qe.a)(a,2),r=n[0],c=n[1],o=an().t,i=pc(),l=function(){return c(!1)};return E.a.createElement(bc,{open:r},E.a.createElement(ln.a,null,E.a.createElement(ba.a,{container:!0,justify:"flex-end",alignItems:"center"},E.a.createElement(ua.a,{onClick:l},E.a.createElement(Rr,null)))),E.a.createElement(Qa.a,null,E.a.createElement(ba.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},E.a.createElement(ba.a,{container:!0,alignItems:"center",direction:"column",justify:"center"},t.map((function(e,a){var n=e.key,r=e.title;return[E.a.createElement(ba.a,{item:!0,key:"add-loan-step-key-".concat(n),className:Object(Da.a)(i.item)},r),a<t.length-1&&E.a.createElement(ba.a,{item:!0,key:"add-loan-step-title-".concat(n),className:i.arrow},E.a.createElement("img",{src:uc.a,alt:"right-arrow"}))]}))),E.a.createElement("p",{className:i.tips},o("Each collateral type has its own unique risk profiles.")),E.a.createElement(Xa.a,{variant:"contained",color:"primary",onClick:l},o("Ok")))))},Ec=E.a.createContext({}),hc=Object($t.a)((function(e){return Object(Yt.a)({root:{marginBottom:e.spacing(3)},item:Object(L.a)({},va(22,32,500,"Roboto",e.palette.common.black)),active:{color:e.palette.primary.light},arrow:{width:59},desc:Object(L.a)({marginTop:e.spacing(2)},va(15,22,400,"Roboto",e.palette.secondary.main))})})),Oc=function(e){var t=e.current,a=an().t,n=hc(),r=mc(Ec).data,c=pn("sm"),o=[{key:"select",title:a("Select Collateral"),desc:a("Each collateral type has its own unique risk profiles.")},{key:"generate",title:a("Generate aUSD"),desc:a("Deposit {{asset}} as collateral to genearte aUSD",{asset:ft(r.asset.value)})},{key:"confirm",title:a("Confirmation"),desc:a("Confirm creating a collateralized loan for aUSD")}],i=o.filter((function(e){var a=e.key;return t===a}));return c?E.a.createElement(fc,{steps:o}):"success"===t?null:E.a.createElement("div",{className:n.root},E.a.createElement(ba.a,{container:!0,alignItems:"center",spacing:2},o.map((function(e,a){var r=e.key,c=e.title;return[E.a.createElement(ba.a,{key:"add-loan-step-key-".concat(r),item:!0,className:Object(Da.a)(n.item,Object(w.a)({},n.active,r===t))},c),a<o.length-1&&E.a.createElement(ba.a,{item:!0,className:n.arrow,key:"add-loan-step-title-".concat(r)},E.a.createElement("img",{src:uc.a,alt:"right-arrow"}))]}))),i.map((function(e){var t=e.key,a=e.desc;return E.a.createElement(fn.a,{key:"add-loan-step-dec-".concat(t),className:n.desc},a)})))},gc=a(1097),jc=Object($t.a)((function(e){return Object(Yt.a)({root:{padding:32},collateralType:{paddingBottom:23,borderBottom:"1px solid #e4e4e4"}})})),Cc=Object(nr.a)((function(){return{root:Object(L.a)({marginBottom:27},va(18,22,400))}}))(fn.a),vc=Object(nr.a)((function(){return{root:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"18px 0"}}}))(qa.a),yc=Object(nr.a)((function(){return{root:Object(L.a)({},va(15,22,600))}}))(fn.a),xc=Object(nr.a)((function(){return{root:Object(L.a)({},va(15,22,600))}}))(fn.a),wc=function(e){var t=e.selected,a=e.onSelect,n=e.renderBottom,r=e.cdpTypes,c=e.balances,o=an().t,i=jc(),l=Object(g.c)(Sa),u=r.find((function(e){return e.asset===t}));return u&&l?E.a.createElement(sr.a,{square:!0,elevation:1,className:i.root},E.a.createElement(Cc,null,o("Select Collateral")),E.a.createElement(ba.a,{container:!0,justify:"space-between",alignItems:"center",className:i.collateralType},o("Collateral Type"),E.a.createElement(Nr,{selected:t,onChange:a,cdpTypes:r})),E.a.createElement(fa.a,null,E.a.createElement(vc,{button:!0},E.a.createElement(yc,null,o("Interest Rate")),E.a.createElement(xc,null,E.a.createElement(Wn,{data:Nn(u.stabilityFee,l.babe.expectedBlockTime),type:"ratio"}))),E.a.createElement(vc,{button:!0},E.a.createElement(yc,null,o("LIQ Ratio")),E.a.createElement(xc,null,E.a.createElement(Wn,{data:u.liquidationRatio,type:"ratio"})," ")),E.a.createElement(vc,{button:!0},E.a.createElement(yc,null,o("LIQ Fee")),E.a.createElement(xc,null,E.a.createElement(Wn,{data:u.liquidationPenalty,type:"ratio"})," ")),E.a.createElement(vc,{button:!0},E.a.createElement(yc,null,o("Avail. Balance")),E.a.createElement(xc,null,E.a.createElement(Wn,{data:c[u.asset]||0,type:"balance",suffix:ft(u.asset)})))),n()):null},Lc=Object($t.a)((function(e){return Object(Yt.a)({bottom:Object(w.a)({paddingTop:73,"& .MuiButton-root":{marginLeft:e.spacing(2)}},e.breakpoints.down("sm"),{paddingTop:32,"& .MuiButton-root":{marginLeft:0}})})})),kc=Object(nr.a)((function(e){return{root:{borderBottom:"none",color:e.palette.text.secondary}}}))(Zr.a),Nc=Object(nr.a)((function(e){return{root:Object(L.a)({color:e.palette.common.black},va(15,22,500,"Roboto"))}}))(Zr.a),Sc=function(e){var t=e.onNext,a=e.onCancel,n=an().t,r=Lc(),c=mc(Ec),o=c.data,i=c.setValue,l=o.asset.value,u=Object(g.c)(La).filter((function(e){return!e.debitExchangeRate.isZero()||!e.liquidationPenalty.isZero()||!e.liquidationRatio.isZero()||!e.maximumTotalDebitValue.isZero()||!e.requiredCollateralRatio.isZero()||!e.stabilityFee.isZero()})),s=Object(g.c)(ea),m=pn("sm"),d=Object(g.c)(Sa),p=function(){return t()},b=function(e){var t=Number(e.currentTarget.value);i("asset",t)};Object(f.useEffect)((function(){o.asset.value||0===u.length||i("asset",u[0].asset)}),[u,o.asset.value,i]);if(!s.length)return null;var h=s.reduce((function(e,t){return Object(L.a)({},e,Object(w.a)({},t.asset,t.balance))}),{}),O=function(){return E.a.createElement(ba.a,{container:!0,justify:m?"space-between":"flex-end",className:r.bottom},E.a.createElement(Xa.a,{variant:"contained",color:"secondary",onClick:a},n("Cancel")),E.a.createElement(Xa.a,{variant:"contained",color:"primary",onClick:p},n("Next")))};return u.length&&d?m?E.a.createElement(wc,{renderBottom:O,cdpTypes:u,balances:h,onSelect:function(e){return i("asset",e)},selected:o.asset.value}):E.a.createElement(dr,{elevation:1,size:"large"},E.a.createElement(zr.a,null,E.a.createElement(Vr.a,null,E.a.createElement($r.a,null,E.a.createElement(Nc,null,n("Collateral Type")),E.a.createElement(Nc,null,n("Interest Rate")),E.a.createElement(Nc,null,n("LIQ Ratio")),E.a.createElement(Nc,null,n("LIQ Fee")),E.a.createElement(Nc,null,n("Avail. Balance")))),E.a.createElement(Yr.a,null,u.map((function(e){return E.a.createElement($r.a,{key:"select-collateral-asset-".concat(e.asset)},E.a.createElement(kc,null,E.a.createElement(gc.a,{value:e.asset,onChange:b,checked:l===e.asset}),ft(e.asset)),E.a.createElement(kc,null,E.a.createElement(Wn,{data:Nn(e.stabilityFee,d.babe.expectedBlockTime),type:"ratio"})),E.a.createElement(kc,null,E.a.createElement(Wn,{data:e.liquidationRatio,type:"ratio"})),E.a.createElement(kc,null,E.a.createElement(Wn,{data:e.liquidationPenalty,type:"ratio"})),E.a.createElement(kc,null,E.a.createElement(Wn,{data:h[e.asset]||0,type:"balance",suffix:ft(e.asset)})))})))),O()):null},Tc=Object($t.a)((function(e){return Object(Yt.a)({linkBtn:{minWidth:0,textDecoration:"underline",color:"#757575","&:hover":{textDecoration:"underline"}}})})),Rc=function(e){var t=e.className,a=e.onNext,n=e.nextBtnDisabled,r=e.onPrev,c=e.onCancel,o=an().t,i=pn("sm"),l=Tc();return E.a.createElement(E.a.Fragment,null,i?E.a.createElement(ba.a,{container:!0,spacing:2,direction:i?"row":"row-reverse",className:t},E.a.createElement(ba.a,{item:!0,xs:12,lg:8},E.a.createElement(ba.a,{container:!0,justify:"space-between"},E.a.createElement(Xa.a,{variant:"contained",color:"secondary",onClick:r},o("Previous")),E.a.createElement(Xa.a,{variant:"contained",color:"primary",onClick:a},o("Next")))),c?E.a.createElement(ba.a,{item:!0,xs:12,lg:3},E.a.createElement(ba.a,{container:!0,justify:"center"},E.a.createElement(Xa.a,{className:l.linkBtn,onClick:c},o("Cancel")))):null):E.a.createElement(ba.a,{container:!0,spacing:2,wrap:"nowrap",className:t},c?E.a.createElement(ba.a,{item:!0},E.a.createElement(Xa.a,{className:l.linkBtn,onClick:c},o("Cancel"))):null,E.a.createElement(ba.a,{item:!0},E.a.createElement(Xa.a,{variant:"contained",color:"secondary",onClick:r},o("Previous"))),E.a.createElement(ba.a,{item:!0},E.a.createElement(Xa.a,{variant:"contained",color:"primary",onClick:a,disabled:n},o("Next")))))},Ac=Object($t.a)((function(e){return Object(Yt.a)({input:Object(w.a)({width:"50%",marginBottom:24},e.breakpoints.down("sm"),{width:"100%"}),label:Object(L.a)({marginBottom:29},va(22,32,500,"Roboto",e.palette.primary.light)),helper:Object(L.a)({display:"flex",justifyContent:"space-between",marginTop:25.6},va(15,20,400,"Roboto",e.palette.common.black)),list:{padding:"32px 26px",background:"rgba(161, 161, 161, 0.11)"},bottom:Object(w.a)({marginTop:44},e.breakpoints.down("sm"),{marginTop:44}),note:Object(L.a)({width:352},va(15,22,500,"Roboto",e.palette.common.black),Object(w.a)({},e.breakpoints.down("sm"),{width:"100%",marginBottom:44}))})})),qc=Object(cr.a)((function(e){return{root:Object(L.a)({padding:"4px 0"},va(15,22,500,"Roboto",e.palette.common.black))}}))(qa.a),Pc=Object(cr.a)((function(){return{root:Object(L.a)({marginBottom:27},va(18,22,400))}}))(fn.a),Dc=function(e){var t=e.name,a=e.value;return E.a.createElement(qc,{button:!0},E.a.createElement(ba.a,{container:!0,justify:"space-between"},E.a.createElement("span",null,t),E.a.createElement("span",null,a)))},_c=function(e){var t=e.onNext,a=e.onPrev,n=e.onCancel,r=an().t,c=Ac(),o=pn("sm"),i=mc(Ec),l=i.data,u=i.setValue,s=i.setError,m=i.clearError,d=l.asset.value,p=pe.fromNatural(l.collateral.value),b=pe.fromNatural(l.borrow.value),h=ft(d),O=ft(1),j=Object(g.c)(ka(d)),C=Object(g.c)(ta(d)),v=Object(g.c)(Na([d,1])),y=Object(qe.a)(v,2),x=y[0],w=y[1],L=Object(g.c)(Sa);if(Object(f.useEffect)((function(){u("collateral",""),u("borrow","")}),[]),!j||!L)return null;var k=Tn(Ln(p,x),pe.fromNatural(0),j.requiredCollateralRatio,w),N=kn(Ln(p,x),b),S=function(){return!l.collateral.error&&!l.borrow.error&&(l.collateral.value?!j.requiredCollateralRatio.isGreaterThan(N)&&void t():(s("collateral","collateral should not be zero"),!1))},T=function(){return E.a.createElement(ba.a,{item:!0,xs:12,lg:4},j&&E.a.createElement(fa.a,{classes:{root:c.list},disablePadding:!0},E.a.createElement(Dc,{name:r("Collateralization"),value:h}),E.a.createElement(Dc,{name:r("Collateralization Ratio"),value:Mn(N)}),E.a.createElement(Dc,{name:r("{{asset}} Price",{asset:h}),value:Un(x,"$")}),E.a.createElement(Dc,{name:r("Interest Rate"),value:Mn(Nn(j.stabilityFee,L.babe.expectedBlockTime))}),E.a.createElement(Dc,{name:r("Liquidation Price"),value:Un(Rn(b,j.liquidationRatio),"$")}),E.a.createElement(Dc,{name:r("Liquidation Ratio"),value:Mn(j.liquidationRatio)}),E.a.createElement(Dc,{name:r("Liquidation Penalty"),value:Mn(j.liquidationPenalty)})))};return E.a.createElement(dr,{elevation:1,size:"large"},o?E.a.createElement(Pc,null,r("Generate {{asset}}",{asset:ft(1)})):"",E.a.createElement(ba.a,{container:!0},E.a.createElement(ba.a,{item:!0,xs:12,lg:8},E.a.createElement(fn.a,{className:c.label},r("How much {{asset}} would you deposit as collateral?",{asset:h})),E.a.createElement(Pr,{className:c.input,onChange:function(e){m("collateral"),u("collateral",e)},max:C.toNumber(),min:0,error:l.collateral.error,onError:function(){return s("collateral","some_error")},helperText:E.a.createElement(E.a.Fragment,null,E.a.createElement("span",{style:{marginRight:30}},r("Max to Lock")),E.a.createElement("span",null,Fn(C,h))),InputProps:{endAdornment:E.a.createElement(Tr.a,{position:"end"},h)},FormHelperTextProps:{classes:{root:c.helper}}}),E.a.createElement(fn.a,{className:c.label},r("How much aUSD would you like to borrow?")),E.a.createElement(Pr,{className:c.input,onChange:function(e){m("borrow"),u("borrow",e)},max:k.toNumber(),min:0,error:l.borrow.error,onError:function(){return s("borrow","some_error")},helperText:E.a.createElement(E.a.Fragment,null,E.a.createElement("span",{style:{marginRight:30}},r("Max available to borrow")),E.a.createElement("span",null,Fn(k,O))),InputProps:{endAdornment:E.a.createElement(Tr.a,{position:"end"},"aUSD")},FormHelperTextProps:{classes:{root:c.helper}}})),o?null:T()),E.a.createElement(ba.a,{container:!0,className:c.bottom,justify:"space-between"},E.a.createElement(fn.a,{className:c.note},r("ADD_VAULT_GENERATE_STABLE_COIN_NOTE")),E.a.createElement(ba.a,{item:!0},E.a.createElement(Rc,{onNext:S,onPrev:a,onCancel:n}))),o?T():null)},Ic=a(1100),Bc=Object(nr.a)((function(e){return{root:Object(L.a)({padding:0,marginBottom:26},va(22,32,500,"Roboto",e.palette.common.black),Object(w.a)({},e.breakpoints.down("sm"),Object(L.a)({marginBottom:24},va(15,22,500,"Roboto",e.palette.common.black))))}}))(qa.a),Fc=Object(nr.a)((function(){return{root:{paddingLeft:0}}}))(Ic.a),Mc=Object($t.a)((function(e){return Object(Yt.a)({card:{padding:"54px  26px"},item:{marginBottom:24},protocol:Object(L.a)({marginTop:30},va(14,19,400,"Roboto","#757575"),{"& .underline":{textDecoration:"underline",cursor:"pointer"}}),error:{color:"red"},bottom:Object(w.a)({marginTop:26,justifyContent:"flex-end"},e.breakpoints.down("sm"),{marginTop:40})})})),Uc=function(e){var t=e.name,a=e.value;return E.a.createElement(Bc,{button:!0},E.a.createElement(ba.a,{container:!0,justify:"space-between"},E.a.createElement("span",null,t),E.a.createElement("span",null,a)))},Gc=function(e){var t=e.onNext,a=e.onPrev,n=e.onCancel,r=an().t,c=Mc(),o=mc(Ec),i=o.data,l=o.setValue,u=o.setError,s=o.clearError,m=Object(g.b)(),d=i.asset.value,p=pe.fromNatural(i.collateral.value),b=pe.fromNatural(i.borrow.value),h=ft(d),O=Object(g.c)(ka(d)),j=Object(g.c)(ta(d)),C=Object(g.c)(Na([1,d])),v=Object(qe.a)(C,2),y=v[0],x=v[1],L=Object(g.c)(Kn("updateLoan")),k=Object(g.c)(S(Kt.loan.UPDATE_VAULT)),N=Object(g.c)(Sa);Object(f.useEffect)((function(){"success"===L&&(m(Kt.loan.reset()),t())}),[L,m,t]);return O&&N?E.a.createElement(dr,{elevation:1,size:"large",className:c.card},E.a.createElement(ba.a,{container:!0,justify:"center"},E.a.createElement(ba.a,{item:!0,xs:12,lg:6},E.a.createElement(fa.a,{disablePadding:!0},O&&j&&E.a.createElement(E.a.Fragment,null,E.a.createElement(Uc,{name:r("Depositing"),value:Fn(p,h)}),E.a.createElement(Uc,{name:r("Borrowing"),value:Fn(b,"aUSD")}),E.a.createElement(Uc,{name:r("Collateralization Ratio"),value:Mn(kn(Ln(p,x),b.mul(y)))}),E.a.createElement(Uc,{name:r("Liquidation Ratio"),value:Mn(O.liquidationRatio)}),E.a.createElement(Uc,{name:r("Liquidation Fee"),value:Mn(O.liquidationPenalty)}),E.a.createElement(Uc,{name:r("Interest Rate"),value:Mn(Nn(O.stabilityFee,N.babe.expectedBlockTime))}))),E.a.createElement(ba.a,{container:!0,className:Object(Da.a)(c.protocol,Object(w.a)({},c.error,i.agree.error)),alignItems:"center",wrap:"nowrap"},E.a.createElement(Fc,{value:i.agree.value,onChange:function(e){var t=e.target.checked;l("agree",t),t&&s("agree")}}),E.a.createElement("span",null,r("I have read and accepted the "),E.a.createElement("a",{className:"underline",href:"/"},r("Terms and Conditions")))))),E.a.createElement(Rc,{nextBtnDisabled:k,onPrev:a,onNext:function(){return i.agree.value?!!O&&void m(Kt.loan.updateLoan.request({asset:d,collateral:p,debit:wn(b,O.debitExchangeRate)})):(u("agree","need agree"),!1)},onCancel:n,className:c.bottom})):null},Wc=function(e){var t=e.className;return E.a.createElement("svg",{viewBox:"0 0 330 261",version:"1.1",className:t},E.a.createElement("g",{id:"Web-App",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},E.a.createElement("g",{id:"Self-service-loan---4",transform:"translate(-588.000000, -412.000000)",fill:"#0132CC"},E.a.createElement("g",{id:"\u7f16\u7ec4",transform:"translate(588.000000, 412.000000)"},E.a.createElement("path",{d:"M263.575375,167.1 C263.275375,159.7 258.275375,152.35 248.475375,146.7 C228.375375,135.1 195.875375,135.1 175.900375,146.7 C165.900375,152.5 160.950375,160.1 161.000375,167.725 L161.000375,167.725 L161.000375,183.4 L161.000375,183.675 L161.000375,199.1 L161.000375,199.375 L161.000375,214.8 L161.000375,215.075 L161.000375,230.725 C161.050375,238.325 166.100375,245.925 176.150375,251.725 C186.200375,257.525 199.350375,260.425 212.475375,260.425 C225.600375,260.425 238.725375,257.525 248.700375,251.725 C258.675375,245.925 263.650375,238.325 263.600375,230.725 L263.600375,215.05 L263.600375,214.175 L263.600375,199.35 L263.600375,198.475 L263.600375,183.65 L263.600375,182.775 L263.600375,167.725 L263.600375,167.7 L263.600375,167.1 L263.575375,167.1 L263.575375,167.1 L263.575375,167.1 Z M185.350375,168.7 C186.825375,168.2 188.375375,167.7 189.925375,167.225 C191.050375,166.875 191.700375,166.8 192.175375,167.075 C192.450375,167.225 192.675375,167.5 192.900375,167.9 C193.925375,169.8 195.575375,171.475 197.675375,173.025 C198.050375,173.3 198.425375,173.55 198.825375,173.775 C199.950375,174.425 201.250375,174.95 202.750375,175.275 C206.600375,176.125 210.100375,174.6 209.675375,172.225 C209.525375,171.425 209.125375,170.625 208.625375,169.875 C207.275375,167.925 205.625375,166.05 204.725375,164 C203.275375,160.675 203.950375,157.675 208.525375,155.3 C213.775375,152.625 219.600375,152.45 225.800375,154.125 C228.325375,154.8 228.325375,154.825 230.250375,153.7 C230.925375,153.3 231.575375,152.925 232.250375,152.575 C233.725375,151.75 234.225375,151.75 235.750375,152.55 C235.900375,152.625 236.050375,152.725 236.200375,152.8 C236.500375,152.975 236.800375,153.15 237.100375,153.325 C237.350375,153.475 237.575375,153.6 237.775375,153.725 C240.250375,155.15 240.025375,155.275 237.125375,156.95 C234.950375,158.25 234.950375,158.25 236.800375,159.7 C238.225375,160.825 239.350375,162.05 240.225375,163.35 C240.700375,164.075 240.425375,164.6 239.250375,164.975 C237.525375,165.525 235.825375,166.1 234.050375,166.625 C232.975375,166.95 232.350375,167 231.875375,166.725 C231.600375,166.575 231.400375,166.325 231.175375,165.95 C230.075375,164.075 228.300375,162.475 225.925375,161.125 C225.625375,160.95 225.325375,160.8 225.025375,160.625 C224.275375,160.25 223.500375,159.9 222.550375,159.675 C219.200375,158.925 216.275375,160.175 216.675375,162.25 C216.875375,163.275 217.450375,164.3 218.150375,165.275 C219.375375,166.95 220.625375,168.625 221.500375,170.375 C224.325375,175.975 218.225375,181.475 208.500375,182.025 C205.000375,182.225 201.675375,181.775 198.575375,180.775 C197.250375,180.325 196.225375,180.375 195.200375,181.025 C194.175375,181.675 193.075375,182.275 191.975375,182.875 C191.025375,183.425 190.050375,183.45 189.075375,182.925 C188.475375,182.6 187.900375,182.275 187.325375,181.925 C186.750375,181.6 186.175375,181.25 185.600375,180.9 C184.625375,180.3 184.725375,179.7 185.675375,179.125 C186.450375,178.675 187.200375,178.2 188.000375,177.75 C189.675375,176.75 189.725375,176.675 188.300375,175.55 C186.500375,174.125 184.900375,172.625 183.900375,170.95 C183.075375,169.675 183.275375,169.375 185.350375,168.7 L185.350375,168.7 L185.350375,168.7 Z M256.550375,230.775 C256.575375,236 252.425375,241.4 245.175375,245.625 C236.575375,250.625 224.975375,253.375 212.500375,253.375 C200.025375,253.375 188.375375,250.625 179.725375,245.625 C172.375375,241.375 168.150375,235.95 168.125375,230.75 L168.125375,230 C170.325375,232.175 172.975375,234.225 176.175375,236.075 C186.225375,241.875 199.375375,244.775 212.500375,244.775 C225.625375,244.775 238.750375,241.875 248.725375,236.075 C251.850375,234.275 254.400375,232.275 256.550375,230.15 L256.550375,230.775 L256.550375,230.775 L256.550375,230.775 Z M256.550375,215.075 C256.575375,220.3 252.425375,225.7 245.175375,229.925 C236.575375,234.925 224.975375,237.675 212.500375,237.675 C200.025375,237.675 188.375375,234.925 179.725375,229.925 C172.375375,225.675 168.150375,220.25 168.125375,215.05 L168.125375,214.3 C170.325375,216.475 172.975375,218.525 176.175375,220.375 C186.225375,226.175 199.375375,229.075 212.500375,229.075 C225.625375,229.075 238.750375,226.175 248.725375,220.375 C251.850375,218.575 254.400375,216.575 256.550375,214.45 L256.550375,215.075 L256.550375,215.075 L256.550375,215.075 Z M256.550375,199.4 C256.575375,204.625 252.425375,210.025 245.175375,214.25 C236.575375,219.25 224.975375,222 212.500375,222 C200.025375,222 188.375375,219.25 179.725375,214.25 C172.375375,210 168.150375,204.575 168.125375,199.375 L168.125375,198.625 C170.325375,200.8 172.975375,202.85 176.175375,204.7 C186.225375,210.5 199.375375,213.4 212.500375,213.4 C225.625375,213.4 238.750375,210.5 248.725375,204.7 C251.850375,202.9 254.400375,200.9 256.550375,198.775 L256.550375,199.4 L256.550375,199.4 L256.550375,199.4 Z M256.550375,183.7 C256.575375,188.925 252.425375,194.325 245.175375,198.55 C236.575375,203.55 224.975375,206.3 212.500375,206.3 C200.025375,206.3 188.375375,203.55 179.725375,198.55 C172.375375,194.3 168.150375,188.875 168.125375,183.675 L168.125375,182.65 C170.325375,184.825 172.975375,186.875 176.175375,188.725 C196.275375,200.325 228.750375,200.325 248.750375,188.725 C251.875375,186.925 254.425375,184.925 256.575375,182.8 L256.575375,183.7 L256.550375,183.7 L256.550375,183.7 L256.550375,183.7 Z",id:"coin"}),E.a.createElement("path",{d:"M329.575375,29.1 C329.275375,21.7 324.275375,14.35 314.475375,8.7 C294.375375,-2.9 261.875375,-2.9 241.900375,8.7 C231.900375,14.5 226.950375,22.1 227.000375,29.725 L227.000375,29.725 L227.000375,45.4 L227.000375,45.675 L227.000375,61.1 L227.000375,61.375 L227.000375,76.8 L227.000375,77.075 L227.000375,92.725 C227.050375,100.325 232.100375,107.925 242.150375,113.725 C252.200375,119.525 265.350375,122.425 278.475375,122.425 C291.600375,122.425 304.725375,119.525 314.700375,113.725 C324.675375,107.925 329.650375,100.325 329.600375,92.725 L329.600375,77.05 L329.600375,76.175 L329.600375,61.35 L329.600375,60.475 L329.600375,45.65 L329.600375,44.775 L329.600375,29.725 L329.600375,29.7 L329.600375,29.1 L329.575375,29.1 L329.575375,29.1 L329.575375,29.1 Z M251.350375,30.7 C252.825375,30.2 254.375375,29.7 255.925375,29.225 C257.050375,28.875 257.700375,28.8 258.175375,29.075 C258.450375,29.225 258.675375,29.5 258.900375,29.9 C259.925375,31.8 261.575375,33.475 263.675375,35.025 C264.050375,35.3 264.425375,35.55 264.825375,35.775 C265.950375,36.425 267.250375,36.95 268.750375,37.275 C272.600375,38.125 276.100375,36.6 275.675375,34.225 C275.525375,33.425 275.125375,32.625 274.625375,31.875 C273.275375,29.925 271.625375,28.05 270.725375,26 C269.275375,22.675 269.950375,19.675 274.525375,17.3 C279.775375,14.625 285.600375,14.45 291.800375,16.125 C294.325375,16.8 294.325375,16.825 296.250375,15.7 C296.925375,15.3 297.575375,14.925 298.250375,14.575 C299.725375,13.75 300.225375,13.75 301.750375,14.55 C301.900375,14.625 302.050375,14.725 302.200375,14.8 C302.500375,14.975 302.800375,15.15 303.100375,15.325 C303.350375,15.475 303.575375,15.6 303.775375,15.725 C306.250375,17.15 306.025375,17.275 303.125375,18.95 C300.950375,20.25 300.950375,20.25 302.800375,21.7 C304.225375,22.825 305.350375,24.05 306.225375,25.35 C306.700375,26.075 306.425375,26.6 305.250375,26.975 C303.525375,27.525 301.825375,28.1 300.050375,28.625 C298.975375,28.95 298.350375,29 297.875375,28.725 C297.600375,28.575 297.400375,28.325 297.175375,27.95 C296.075375,26.075 294.300375,24.475 291.925375,23.125 C291.625375,22.95 291.325375,22.8 291.025375,22.625 C290.275375,22.25 289.500375,21.9 288.550375,21.675 C285.200375,20.925 282.275375,22.175 282.675375,24.25 C282.875375,25.275 283.450375,26.3 284.150375,27.275 C285.375375,28.95 286.625375,30.625 287.500375,32.375 C290.325375,37.975 284.225375,43.475 274.500375,44.025 C271.000375,44.225 267.675375,43.775 264.575375,42.775 C263.250375,42.325 262.225375,42.375 261.200375,43.025 C260.175375,43.675 259.075375,44.275 257.975375,44.875 C257.025375,45.425 256.050375,45.45 255.075375,44.925 C254.475375,44.6 253.900375,44.275 253.325375,43.925 C252.750375,43.6 252.175375,43.25 251.600375,42.9 C250.625375,42.3 250.725375,41.7 251.675375,41.125 C252.450375,40.675 253.200375,40.2 254.000375,39.75 C255.675375,38.75 255.725375,38.675 254.300375,37.55 C252.500375,36.125 250.900375,34.625 249.900375,32.95 C249.075375,31.675 249.275375,31.375 251.350375,30.7 L251.350375,30.7 L251.350375,30.7 Z M322.550375,92.775 C322.575375,98 318.425375,103.4 311.175375,107.625 C302.575375,112.625 290.975375,115.375 278.500375,115.375 C266.025375,115.375 254.375375,112.625 245.725375,107.625 C238.375375,103.375 234.150375,97.95 234.125375,92.75 L234.125375,92 C236.325375,94.175 238.975375,96.225 242.175375,98.075 C252.225375,103.875 265.375375,106.775 278.500375,106.775 C291.625375,106.775 304.750375,103.875 314.725375,98.075 C317.850375,96.275 320.400375,94.275 322.550375,92.15 L322.550375,92.775 L322.550375,92.775 L322.550375,92.775 Z M322.550375,77.075 C322.575375,82.3 318.425375,87.7 311.175375,91.925 C302.575375,96.925 290.975375,99.675 278.500375,99.675 C266.025375,99.675 254.375375,96.925 245.725375,91.925 C238.375375,87.675 234.150375,82.25 234.125375,77.05 L234.125375,76.3 C236.325375,78.475 238.975375,80.525 242.175375,82.375 C252.225375,88.175 265.375375,91.075 278.500375,91.075 C291.625375,91.075 304.750375,88.175 314.725375,82.375 C317.850375,80.575 320.400375,78.575 322.550375,76.45 L322.550375,77.075 L322.550375,77.075 L322.550375,77.075 Z M322.550375,61.4 C322.575375,66.625 318.425375,72.025 311.175375,76.25 C302.575375,81.25 290.975375,84 278.500375,84 C266.025375,84 254.375375,81.25 245.725375,76.25 C238.375375,72 234.150375,66.575 234.125375,61.375 L234.125375,60.625 C236.325375,62.8 238.975375,64.85 242.175375,66.7 C252.225375,72.5 265.375375,75.4 278.500375,75.4 C291.625375,75.4 304.750375,72.5 314.725375,66.7 C317.850375,64.9 320.400375,62.9 322.550375,60.775 L322.550375,61.4 L322.550375,61.4 L322.550375,61.4 Z M322.550375,45.7 C322.575375,50.925 318.425375,56.325 311.175375,60.55 C302.575375,65.55 290.975375,68.3 278.500375,68.3 C266.025375,68.3 254.375375,65.55 245.725375,60.55 C238.375375,56.3 234.150375,50.875 234.125375,45.675 L234.125375,44.65 C236.325375,46.825 238.975375,48.875 242.175375,50.725 C262.275375,62.325 294.750375,62.325 314.750375,50.725 C317.875375,48.925 320.425375,46.925 322.575375,44.8 L322.575375,45.7 L322.550375,45.7 L322.550375,45.7 L322.550375,45.7 Z",id:"coin-copy"}),E.a.createElement("path",{d:"M45.8039514,156.959388 C54.2039514,161.809388 67.8039514,161.809388 76.1539514,156.959388 C84.5289514,152.109388 84.4539514,144.234388 76.0539514,139.384388 C67.6539514,134.534388 54.0539514,134.534388 45.7039514,139.384388 C37.3539514,144.234388 37.4039514,152.084388 45.8039514,156.959388 L45.8039514,156.959388 L45.8039514,156.959388 Z M49.6539514,148.559388 C50.3039514,148.359388 50.9289514,148.134388 51.5539514,147.934388 C52.0289514,147.784388 52.3039514,147.759388 52.5039514,147.859388 C52.6289514,147.934388 52.7039514,148.034388 52.8039514,148.209388 C53.2289514,149.009388 53.9289514,149.709388 54.8039514,150.359388 C54.9539514,150.484388 55.1039514,150.584388 55.2789514,150.684388 C55.7539514,150.959388 56.2789514,151.159388 56.9289514,151.309388 C58.5539514,151.659388 60.0039514,151.034388 59.8289514,150.034388 C59.7789514,149.684388 59.6039514,149.384388 59.3789514,149.059388 C58.8289514,148.234388 58.1289514,147.459388 57.7539514,146.609388 C57.1539514,145.209388 57.4289514,143.959388 59.3539514,142.959388 C61.5539514,141.834388 63.9789514,141.784388 66.5789514,142.459388 C67.6289514,142.759388 67.6289514,142.759388 68.4539514,142.284388 C68.7289514,142.134388 69.0039514,141.959388 69.2789514,141.809388 C69.9039514,141.459388 70.1289514,141.459388 70.7539514,141.809388 C70.9539514,141.909388 71.1289514,142.034388 71.3289514,142.134388 C72.6289514,142.884388 72.6289514,142.884388 71.3539514,143.659388 C70.4289514,144.184388 70.4289514,144.184388 71.2039514,144.809388 C71.8039514,145.284388 72.2539514,145.784388 72.6289514,146.334388 C72.8289514,146.634388 72.7039514,146.859388 72.2289514,147.009388 C71.5039514,147.234388 70.7789514,147.484388 70.0539514,147.709388 C69.6039514,147.834388 69.3289514,147.859388 69.1289514,147.759388 C69.0289514,147.684388 68.9289514,147.584388 68.8289514,147.434388 C68.3539514,146.659388 67.6289514,146.009388 66.6539514,145.434388 C66.5289514,145.359388 66.3789514,145.284388 66.2289514,145.209388 C65.9039514,145.059388 65.6039514,144.909388 65.2039514,144.809388 C63.8039514,144.484388 62.5789514,145.009388 62.7539514,145.884388 C62.8289514,146.334388 63.0789514,146.734388 63.3789514,147.134388 C63.8789514,147.834388 64.4039514,148.534388 64.7789514,149.259388 C65.9539514,151.609388 63.4039514,153.909388 59.3289514,154.134388 C57.8539514,154.209388 56.4539514,154.034388 55.1789514,153.609388 C54.6289514,153.434388 54.2039514,153.459388 53.7539514,153.734388 C53.3289514,154.009388 52.8539514,154.259388 52.4289514,154.509388 C52.0289514,154.734388 51.6039514,154.759388 51.2039514,154.534388 C50.9039514,154.384388 50.6289514,154.209388 50.3289514,154.059388 C50.1289514,153.934388 49.9289514,153.834388 49.7289514,153.709388 C49.3039514,153.459388 49.3539514,153.209388 49.7539514,152.959388 C50.0789514,152.759388 50.4039514,152.584388 50.7039514,152.384388 C51.4289514,151.959388 51.4289514,151.934388 50.8289514,151.459388 C50.0789514,150.859388 49.4039514,150.234388 48.9789514,149.534388 C48.7039514,148.984388 48.7789514,148.859388 49.6539514,148.559388 L49.6539514,148.559388 L49.6539514,148.559388 Z M78.8789514,158.509388 C81.2039514,157.159388 84.9539514,157.159388 87.2789514,158.509388 C89.6039514,159.859388 89.6289514,162.034388 87.3039514,163.384388 C85.0039514,164.734388 81.2289514,164.734388 78.9039514,163.384388 C76.5789514,162.034388 76.5539514,159.859388 78.8789514,158.509388 L78.8789514,158.509388 L78.8789514,158.509388 Z M34.5789514,132.934388 C36.9039514,131.584388 40.6539514,131.584388 43.0039514,132.934388 C45.3289514,134.284388 45.3539514,136.459388 43.0289514,137.809388 C40.7289514,139.159388 36.9539514,139.159388 34.6289514,137.809388 C32.2789514,136.459388 32.2539514,134.284388 34.5789514,132.934388 L34.5789514,132.934388 L34.5789514,132.934388 Z M3.10395136,143.359388 L69.4289514,181.634388 C73.2539514,183.859388 79.4789514,183.859388 83.2789514,181.634388 L118.803951,160.984388 C122.603951,158.759388 122.603951,155.159388 118.778951,152.959388 L52.4539514,114.659388 C48.6289514,112.434388 42.4039514,112.459388 38.5789514,114.659388 L3.05395136,135.334388 C-0.746048636,137.534388 -0.721048636,141.134388 3.10395136,143.359388 L3.10395136,143.359388 L3.10395136,143.359388 Z M17.5039514,135.234388 C17.0789514,134.984388 16.6289514,134.784388 16.1539514,134.584388 L37.3789514,122.259388 C37.7039514,122.534388 38.0789514,122.784388 38.5039514,123.034388 C42.3789514,125.284388 48.6789514,125.259388 52.5289514,123.034388 C52.9789514,122.784388 53.3539514,122.509388 53.6789514,122.209388 L105.328951,152.034388 C104.628951,152.284388 104.003951,152.559388 103.403951,152.909388 C99.5289514,155.159388 99.5539514,158.784388 103.453951,161.034388 C104.053951,161.384388 104.703951,161.659388 105.403951,161.909388 L83.9789514,174.359388 C83.5539514,173.959388 83.0539514,173.584388 82.4539514,173.234388 C78.5539514,170.984388 72.2789514,170.984388 68.4289514,173.234388 C68.1289514,173.409388 67.8789514,173.584388 67.6289514,173.784388 L16.1289514,144.034388 C16.6289514,143.834388 17.1039514,143.609388 17.5289514,143.359388 C21.4039514,141.134388 21.3789514,137.484388 17.5039514,135.234388 L17.5039514,135.234388 L17.5039514,135.234388 Z M1.37895136,151.009388 C3.05395136,150.134388 5.67895136,150.259388 7.30395136,151.209388 L76.6039514,191.209388 L114.078951,169.434388 C115.703951,168.484388 118.353951,168.484388 119.978951,169.434388 C121.628951,170.384388 121.628951,171.909388 120.003951,172.859388 L80.1789514,196.009388 C78.2289514,197.134388 75.0539514,197.134388 73.1039514,196.009388 L71.7039514,195.209388 L70.7289514,194.634388 L1.22895136,154.534388 C-0.446048636,153.534388 -0.421048636,151.934388 1.37895136,151.009388 L1.37895136,151.009388 L1.37895136,151.009388 Z M120.078951,185.384388 L80.2539514,208.534388 C78.3039514,209.659388 75.1289514,209.659388 73.1789514,208.534388 L71.7789514,207.734388 L70.7789514,207.159388 L1.30395136,167.034388 C-0.396048636,166.059388 -0.346048636,164.459388 1.45395136,163.509388 C3.12895136,162.634388 5.75395136,162.759388 7.37895136,163.709388 L76.6789514,203.709388 L114.128951,181.959388 C115.753951,181.009388 118.403951,181.009388 120.053951,181.959388 C121.678951,182.909388 121.703951,184.434388 120.078951,185.384388 L120.078951,185.384388 L120.078951,185.384388 Z M1.37895136,176.034388 C3.05395136,175.159388 5.67895136,175.284388 7.30395136,176.234388 L76.6039514,216.259388 L114.078951,194.459388 C115.703951,193.509388 118.353951,193.509388 119.978951,194.459388 C121.628951,195.409388 121.628951,196.934388 120.003951,197.884388 L80.1789514,221.034388 C78.2289514,222.159388 75.0539514,222.159388 73.1039514,221.034388 L71.7039514,220.234388 L70.7289514,219.659388 L1.22895136,179.559388 C-0.446048636,178.584388 -0.421048636,176.984388 1.37895136,176.034388 L1.37895136,176.034388 L1.37895136,176.034388 Z M120.078951,210.409388 L80.2539514,233.559388 C78.3039514,234.684388 75.1289514,234.684388 73.1789514,233.559388 L71.7789514,232.759388 L70.7789514,232.184388 L1.30395136,192.059388 C-0.396048636,191.084388 -0.346048636,189.484388 1.45395136,188.534388 C3.12895136,187.659388 5.75395136,187.784388 7.37895136,188.734388 L76.6789514,228.734388 L114.153951,206.959388 C115.778951,206.009388 118.428951,206.009388 120.078951,206.959388 C121.678951,207.934388 121.703951,209.459388 120.078951,210.409388 L120.078951,210.409388 L120.078951,210.409388 Z",id:"money-121"}),E.a.createElement("path",{d:"M111.803951,60.9593882 C120.203951,65.8093882 133.803951,65.8093882 142.153951,60.9593882 C150.528951,56.1093882 150.453951,48.2343882 142.053951,43.3843882 C133.653951,38.5343882 120.053951,38.5343882 111.703951,43.3843882 C103.353951,48.2343882 103.403951,56.0843882 111.803951,60.9593882 L111.803951,60.9593882 L111.803951,60.9593882 Z M115.653951,52.5593882 C116.303951,52.3593882 116.928951,52.1343882 117.553951,51.9343882 C118.028951,51.7843882 118.303951,51.7593882 118.503951,51.8593882 C118.628951,51.9343882 118.703951,52.0343882 118.803951,52.2093882 C119.228951,53.0093882 119.928951,53.7093882 120.803951,54.3593882 C120.953951,54.4843882 121.103951,54.5843882 121.278951,54.6843882 C121.753951,54.9593882 122.278951,55.1593882 122.928951,55.3093882 C124.553951,55.6593882 126.003951,55.0343882 125.828951,54.0343882 C125.778951,53.6843882 125.603951,53.3843882 125.378951,53.0593882 C124.828951,52.2343882 124.128951,51.4593882 123.753951,50.6093882 C123.153951,49.2093882 123.428951,47.9593882 125.353951,46.9593882 C127.553951,45.8343882 129.978951,45.7843882 132.578951,46.4593882 C133.628951,46.7593882 133.628951,46.7593882 134.453951,46.2843882 C134.728951,46.1343882 135.003951,45.9593882 135.278951,45.8093882 C135.903951,45.4593882 136.128951,45.4593882 136.753951,45.8093882 C136.953951,45.9093882 137.128951,46.0343882 137.328951,46.1343882 C138.628951,46.8843882 138.628951,46.8843882 137.353951,47.6593882 C136.428951,48.1843882 136.428951,48.1843882 137.203951,48.8093882 C137.803951,49.2843882 138.253951,49.7843882 138.628951,50.3343882 C138.828951,50.6343882 138.703951,50.8593882 138.228951,51.0093882 C137.503951,51.2343882 136.778951,51.4843882 136.053951,51.7093882 C135.603951,51.8343882 135.328951,51.8593882 135.128951,51.7593882 C135.028951,51.6843882 134.928951,51.5843882 134.828951,51.4343882 C134.353951,50.6593882 133.628951,50.0093882 132.653951,49.4343882 C132.528951,49.3593882 132.378951,49.2843882 132.228951,49.2093882 C131.903951,49.0593882 131.603951,48.9093882 131.203951,48.8093882 C129.803951,48.4843882 128.578951,49.0093882 128.753951,49.8843882 C128.828951,50.3343882 129.078951,50.7343882 129.378951,51.1343882 C129.878951,51.8343882 130.403951,52.5343882 130.778951,53.2593882 C131.953951,55.6093882 129.403951,57.9093882 125.328951,58.1343882 C123.853951,58.2093882 122.453951,58.0343882 121.178951,57.6093882 C120.628951,57.4343882 120.203951,57.4593882 119.753951,57.7343882 C119.328951,58.0093882 118.853951,58.2593882 118.428951,58.5093882 C118.028951,58.7343882 117.603951,58.7593882 117.203951,58.5343882 C116.903951,58.3843882 116.628951,58.2093882 116.328951,58.0593882 C116.128951,57.9343882 115.928951,57.8343882 115.728951,57.7093882 C115.303951,57.4593882 115.353951,57.2093882 115.753951,56.9593882 C116.078951,56.7593882 116.403951,56.5843882 116.703951,56.3843882 C117.428951,55.9593882 117.428951,55.9343882 116.828951,55.4593882 C116.078951,54.8593882 115.403951,54.2343882 114.978951,53.5343882 C114.703951,52.9843882 114.778951,52.8593882 115.653951,52.5593882 L115.653951,52.5593882 L115.653951,52.5593882 Z M144.878951,62.5093882 C147.203951,61.1593882 150.953951,61.1593882 153.278951,62.5093882 C155.603951,63.8593882 155.628951,66.0343882 153.303951,67.3843882 C151.003951,68.7343882 147.228951,68.7343882 144.903951,67.3843882 C142.578951,66.0343882 142.553951,63.8593882 144.878951,62.5093882 L144.878951,62.5093882 L144.878951,62.5093882 Z M100.578951,36.9343882 C102.903951,35.5843882 106.653951,35.5843882 109.003951,36.9343882 C111.328951,38.2843882 111.353951,40.4593882 109.028951,41.8093882 C106.728951,43.1593882 102.953951,43.1593882 100.628951,41.8093882 C98.2789514,40.4593882 98.2539514,38.2843882 100.578951,36.9343882 L100.578951,36.9343882 L100.578951,36.9343882 Z M69.1039514,47.3593882 L135.428951,85.6343882 C139.253951,87.8593882 145.478951,87.8593882 149.278951,85.6343882 L184.803951,64.9843882 C188.603951,62.7593882 188.603951,59.1593882 184.778951,56.9593882 L118.453951,18.6593882 C114.628951,16.4343882 108.403951,16.4593882 104.578951,18.6593882 L69.0539514,39.3343882 C65.2539514,41.5343882 65.2789514,45.1343882 69.1039514,47.3593882 L69.1039514,47.3593882 L69.1039514,47.3593882 Z M83.5039514,39.2343882 C83.0789514,38.9843882 82.6289514,38.7843882 82.1539514,38.5843882 L103.378951,26.2593882 C103.703951,26.5343882 104.078951,26.7843882 104.503951,27.0343882 C108.378951,29.2843882 114.678951,29.2593882 118.528951,27.0343882 C118.978951,26.7843882 119.353951,26.5093882 119.678951,26.2093882 L171.328951,56.0343882 C170.628951,56.2843882 170.003951,56.5593882 169.403951,56.9093882 C165.528951,59.1593882 165.553951,62.7843882 169.453951,65.0343882 C170.053951,65.3843882 170.703951,65.6593882 171.403951,65.9093882 L149.978951,78.3593882 C149.553951,77.9593882 149.053951,77.5843882 148.453951,77.2343882 C144.553951,74.9843882 138.278951,74.9843882 134.428951,77.2343882 C134.128951,77.4093882 133.878951,77.5843882 133.628951,77.7843882 L82.1289514,48.0343882 C82.6289514,47.8343882 83.1039514,47.6093882 83.5289514,47.3593882 C87.4039514,45.1343882 87.3789514,41.4843882 83.5039514,39.2343882 L83.5039514,39.2343882 L83.5039514,39.2343882 Z M67.3789514,55.0093882 C69.0539514,54.1343882 71.6789514,54.2593882 73.3039514,55.2093882 L142.603951,95.2093882 L180.078951,73.4343882 C181.703951,72.4843882 184.353951,72.4843882 185.978951,73.4343882 C187.628951,74.3843882 187.628951,75.9093882 186.003951,76.8593882 L146.178951,100.009388 C144.228951,101.134388 141.053951,101.134388 139.103951,100.009388 L137.703951,99.2093882 L136.728951,98.6343882 L67.2289514,58.5343882 C65.5539514,57.5343882 65.5789514,55.9343882 67.3789514,55.0093882 L67.3789514,55.0093882 L67.3789514,55.0093882 Z M186.078951,89.3843882 L146.253951,112.534388 C144.303951,113.659388 141.128951,113.659388 139.178951,112.534388 L137.778951,111.734388 L136.778951,111.159388 L67.3039514,71.0343882 C65.6039514,70.0593882 65.6539514,68.4593882 67.4539514,67.5093882 C69.1289514,66.6343882 71.7539514,66.7593882 73.3789514,67.7093882 L142.678951,107.709388 L180.128951,85.9593882 C181.753951,85.0093882 184.403951,85.0093882 186.053951,85.9593882 C187.678951,86.9093882 187.703951,88.4343882 186.078951,89.3843882 L186.078951,89.3843882 L186.078951,89.3843882 Z M67.3789514,80.0343882 C69.0539514,79.1593882 71.6789514,79.2843882 73.3039514,80.2343882 L142.603951,120.259388 L180.078951,98.4593882 C181.703951,97.5093882 184.353951,97.5093882 185.978951,98.4593882 C187.628951,99.4093882 187.628951,100.934388 186.003951,101.884388 L146.178951,125.034388 C144.228951,126.159388 141.053951,126.159388 139.103951,125.034388 L137.703951,124.234388 L136.728951,123.659388 L67.2289514,83.5593882 C65.5539514,82.5843882 65.5789514,80.9843882 67.3789514,80.0343882 L67.3789514,80.0343882 L67.3789514,80.0343882 Z M186.078951,114.409388 L146.253951,137.559388 C144.303951,138.684388 141.128951,138.684388 139.178951,137.559388 L137.778951,136.759388 L136.778951,136.184388 L67.3039514,96.0593882 C65.6039514,95.0843882 65.6539514,93.4843882 67.4539514,92.5343882 C69.1289514,91.6593882 71.7539514,91.7843882 73.3789514,92.7343882 L142.678951,132.734388 L180.153951,110.959388 C181.778951,110.009388 184.428951,110.009388 186.078951,110.959388 C187.678951,111.934388 187.703951,113.459388 186.078951,114.409388 L186.078951,114.409388 L186.078951,114.409388 Z",id:"money-121"})))))},Hc=Object(nr.a)((function(){return{root:{padding:"47px 54px 98px 54px"}}}))(sr.a),Zc=Object(nr.a)((function(e){return{root:Object(L.a)({marginTop:45},va(21,28,500,"Roboto",e.palette.primary.light))}}))(fn.a),zc=Object($t.a)((function(){return Object(Yt.a)({img:{marginTop:68,marginBottom:43,width:"100%",maxWidth:330}})})),Vc=function(e){var t=e.onConfirm,a=an().t,n=zc();return E.a.createElement(Hc,{square:!0,elevation:1},E.a.createElement(ba.a,{container:!0,justify:"flex-end",onClick:t},E.a.createElement(ua.a,null,E.a.createElement(Rr,null))),E.a.createElement(ba.a,{container:!0,justify:"center",alignItems:"center",direction:"column"},E.a.createElement(Zc,null,a("Your loan is created, and aUSD is generated!")),E.a.createElement(Wc,{className:n.img}),E.a.createElement(Xa.a,{variant:"contained",color:"primary",onClick:t},"DONE")))},$c={asset:{value:void 0},collateral:{value:void 0},borrow:{value:void 0},agree:{value:void 0}},Yc=function(e){var t=e.onCancel,a=Object(f.useState)("select"),n=Object(qe.a)(a,2),r=n[0],c=n[1],o=function(e){return function(){return c(e)}};return E.a.createElement(sc,{context:Ec,data:$c},E.a.createElement(Oc,{current:r}),function(e){return"select"===e?E.a.createElement(Sc,{onNext:o("generate"),onCancel:t}):"generate"===e?E.a.createElement(_c,{onNext:o("confirm"),onPrev:o("select"),onCancel:t}):"confirm"===e?E.a.createElement(Gc,{onNext:o("success"),onPrev:o("generate"),onCancel:t}):"success"===e?E.a.createElement(Vc,{onConfirm:t}):null}(r))},Qc=Object(cr.a)((function(){return{root:{textAlign:"right"}}}))(fn.a),Jc=function(e){var t=e.className,a=e.style,n=an().t,r=Object(g.c)(ea),c=Object(g.c)(wa);return r.length?E.a.createElement(dr,{size:"normal",elevation:1,header:E.a.createElement(fn.a,{variant:"subtitle1"},n("Wallet Balance")),className:t,style:a},E.a.createElement(fa.a,null,r.map((function(e){var t=c.find((function(t){return t.asset===e.asset}));return E.a.createElement(qa.a,{disableGutters:!0,key:"wallet-balance-".concat(e.asset)},E.a.createElement(ba.a,{container:!0,justify:"space-between"},E.a.createElement(ba.a,{item:!0,xs:3},E.a.createElement(fn.a,{variant:"body2"},ft(e.asset))),E.a.createElement(ba.a,{item:!0,xs:3},E.a.createElement(Qc,{variant:"body2"},E.a.createElement(Wn,{type:"balance",data:e.balance}))),E.a.createElement(ba.a,{item:!0,xs:3},E.a.createElement(Qc,{variant:"body2"},E.a.createElement(Wn,{type:"price",data:e.balance.mul(t?t.price:pe.fromNatural(0)),prefix:"$"})))))})))):null},Xc=Object(nr.a)((function(){return{root:{padding:"47px 54px 98px 54px"}}}))(sr.a),Kc=Object($t.a)((function(e){return Object(Yt.a)({card:{padding:"108px 0 80px 0"},img:{marginTop:72,marginBottom:62.5,width:"100%",maxWidth:330},title:Object(L.a)({},va(22,32,500,"Roboto",e.palette.primary.light)),item:Object(L.a)({},va(21,28,500,"Roboto")),arrow:{width:59}})})),eo=function(e){var t=e.onConfirm,a=an().t,n=Kc(),r=[{key:"select",title:a("Select Collateral")},{key:"generate",title:a("Generate aUSD")},{key:"confirm",title:a("Confirmation")}];return E.a.createElement(Xc,{square:!0,elevation:1,className:n.card},E.a.createElement(ba.a,{container:!0,justify:"center",alignItems:"center",direction:"column"},E.a.createElement(ba.a,{container:!0,alignItems:"center",spacing:2,justify:"center",className:n.title},r.map((function(e,t){var a=e.key,c=e.title;return[E.a.createElement(ba.a,{key:"add-loan-step-key-".concat(a),item:!0,className:n.item},c),t<r.length-1&&E.a.createElement(ba.a,{item:!0,className:n.arrow,key:"add-loan-step-title-".concat(a)},E.a.createElement("img",{src:uc.a,alt:"right-arrow"}))]}))),E.a.createElement(Wc,{className:n.img}),E.a.createElement(Xa.a,{variant:"contained",color:"primary",onClick:t},a("Get Started"))))},to=Object($t.a)((function(e){return Object(Yt.a)({paper:Object(w.a)({},e.breakpoints.down("sm"),{paddingTop:22,paddingBottom:27}),item:{minWidth:260,padding:"62px 32px"}})})),ao=Object(nr.a)((function(e){return{root:{borderBottom:"none",color:e.palette.text.secondary}}}))(Zr.a),no=Object(nr.a)((function(e){return{root:Object(L.a)({color:e.palette.common.black},va(15,22,500,"Roboto"))}}))(Zr.a),ro=function(e){var t=e.onSelect,a=an().t,n=to(),r=Object(g.c)(La),c=Object(g.c)(tr),o=Object(g.c)(wa),i=pn("sm"),l=o.find((function(e){return 1===e.asset})),u=ft(1),s=c.reduce((function(e,t){var a=o.find((function(e){return e.asset===t.asset}));return a?e.add(t.collateral.mul(a.price)):e}),pe.fromNatural(0)),m=c.reduce((function(e,t){var a=r.find((function(e){return e.asset===t.asset}));return a?e.add(t.debit.mul(a.debitExchangeRate)):e}),pe.fromNatural(0));return E.a.createElement(E.a.Fragment,null,E.a.createElement(ba.a,{spacing:3,container:!0,direction:i?"column":"row"},E.a.createElement(E.a.Fragment,null,E.a.createElement(ba.a,{item:!0},E.a.createElement(cc,{elevation:1,className:n.item,header:a("Total Collateral Locked"),content:s,formatterProps:{type:"price",prefix:"$",color:"primary"}})),E.a.createElement(ba.a,{item:!0},E.a.createElement(cc,{elevation:1,className:n.item,header:a("Total aUSD Debit"),content:m,formatterProps:{type:"balance",suffix:u,color:"primary"}})))),E.a.createElement(dr,{size:"large",elevation:1,marginTop:3},E.a.createElement(zr.a,null,E.a.createElement(Vr.a,null,E.a.createElement($r.a,null,E.a.createElement(no,null,a("Token")),E.a.createElement(no,null,a("Current Ratio")),E.a.createElement(no,null,a("Deposited")),E.a.createElement(no,null,a("Avil. to Withdraw")),E.a.createElement(no,null,a("StableCoin")),E.a.createElement(no,null))),E.a.createElement(Yr.a,null,c.map((function(e){var n=r.find((function(t){return t.asset===e.asset})),c=o.find((function(t){return t.asset===e.asset}));if(!(c&&n&&l))return null;var i=ft(e.asset),s=kn(Ln(e.collateral,c.price),yn(e.debit,n.debitExchangeRate,l.price)),m=Sn(yn(e.debit,n.debitExchangeRate,l.price),n.requiredCollateralRatio,c.price),d=e.collateral.sub(m),p=e.debit.mul(n.debitExchangeRate);return E.a.createElement($r.a,{key:"overview-".concat(e.asset)},E.a.createElement(ao,null,ft(e.asset)),E.a.createElement(ao,null,E.a.createElement(Wn,{type:"ratio",data:s})),E.a.createElement(ao,null,E.a.createElement(Wn,{type:"balance",data:e.collateral,suffix:i})),E.a.createElement(ao,null,E.a.createElement(Wn,{type:"balance",data:d,suffix:i})),E.a.createElement(ao,null,E.a.createElement(Wn,{type:"balance",data:p,suffix:u})),E.a.createElement(ao,null,E.a.createElement(Xa.a,{variant:"outlined",color:"primary",onClick:function(){t(e.asset)}},a("Manage Loan"))))}))))))},co=Object($t.a)((function(e){return Object(Yt.a)({detail:Object(w.a)({marginTop:26},e.breakpoints.down("sm"),{marginTop:0}),systemInfo:Object(w.a)({flex:"0 0 349px",marginLeft:48},e.breakpoints.down("md"),{flex:"1 1 100%",marginTop:32,marginLeft:0}),loanInfo:Object(w.a)({},e.breakpoints.down("sm"),{marginTop:32}),gap:{marginBottom:26}})})),oo=function(){var e=Object(g.b)(),t=Object(f.useState)(0),a=Object(qe.a)(t,2),n=a[0],r=a[1],c=Object(f.useState)(!1),o=Object(qe.a)(c,2),i=o[0],l=o[1],u=Object(f.useState)(!0),s=Object(qe.a)(u,2),m=s[0],d=s[1],p=Object(f.useState)("overview"),b=Object(qe.a)(p,2),h=b[0],O=b[1],j=Object(g.c)(tr),C=Object(g.c)(S(oe)),v=co(),y=function(){l(!0),O("add_loan")},x=function(){return l(!1)},w=pn("sm"),L=pn("md");Object(f.useEffect)((function(){e(Kt.chain.fetchConstants.request({})),e(Kt.loan.fetchLoans.request(dt)),e(Kt.account.fetchAssetsBalance.request(Array.from(mt.keys()))),e(Kt.chain.fetchTotalIssuance.request([1])),e(Kt.chain.fetchCdpTypes.request(dt)),e(Kt.loan.loadTxRecord())}),[e]);var k=function(e){r(e),O(e),x(),d(!1)};return E.a.createElement(ur,{fullScreen:!0},E.a.createElement(ba.a,{container:!0,direction:w?"column":"row"},E.a.createElement(yr,{active:h,onOverview:function(){d(!0),O("overview")},onAdd:y,onSelect:k})),E.a.createElement(ba.a,{container:!0,direction:w?"column":"row",justify:"space-between",wrap:L?"wrap":"nowrap",className:v.detail},E.a.createElement(ba.a,{item:!0,xs:12,className:v.loanInfo},"boolean"!==typeof C?null:!0===C?E.a.createElement(Xn.a,{variant:"rect",width:"100%",height:500}):i?E.a.createElement(Yc,{onCancel:x}):Object(De.isEmpty)(j)?E.a.createElement(eo,{onConfirm:y}):m?E.a.createElement(ro,{onSelect:k}):E.a.createElement(E.a.Fragment,null,E.a.createElement(ic,{current:n}),E.a.createElement(Jn.a,{paddingTop:w?4:7}),E.a.createElement(Hr,{current:n}),E.a.createElement(Jn.a,{paddingTop:w?4:7}),E.a.createElement(ac,{current:n}))),E.a.createElement(ba.a,{item:!0,md:12,className:v.systemInfo},E.a.createElement(Jc,{className:v.gap}),E.a.createElement(pr,{className:v.gap}),E.a.createElement(xr,{className:v.gap}),E.a.createElement(Sr,{current:n,className:v.gap}))))},io=E.a.createContext({}),lo=a(473),uo=a.n(lo),so=a(1090),mo=a(474),po=a.n(mo),bo=Object(nr.a)((function(e){return{root:Object(L.a)({minWidth:e.spacing(6),marginLeft:14},va(18,22,500,"Roboto",e.palette.common.black))}}))(fn.a),fo=Object(nr.a)((function(e){return{root:Object(L.a)({cursor:"pointer",padding:0},va(21,22,500,"Roboto",e.palette.common.black))}}))(ln.a),Eo=Object(nr.a)((function(e){return{root:{marginLeft:12},primary:Object(L.a)({},va(22,32,500,"Roboto",e.palette.common.black)),secondary:Object(L.a)({},va(15,22,500,"Roboto",e.palette.secondary.main))}}))(Pa.a),ho=Object(nr.a)((function(){return{root:{minWidth:47,height:47,width:"auto"}}}))(so.a),Oo=Object(nr.a)((function(){return{root:{padding:"4px 0",alignItems:"center",marginBottom:8}}}))(qa.a),go=Object($t.a)((function(){return Object(Yt.a)({root:{cursor:"pointer",width:"auto"},icon:{width:32,height:32},paperRoot:{width:355,minHeight:584,padding:"51px 38px 51px 34px"},list:{marginBottom:40}})})),jo=function(e){var t=e.defaultToken,a=e.data,n=e.onChange,r=go(),c=Object(f.useState)(!1),o=Object(qe.a)(c,2),i=o[0],l=o[1],u=Object(f.useState)(t),s=Object(qe.a)(u,2),m=s[0],d=s[1],p=Object(f.useState)(t),b=Object(qe.a)(p,2),h=b[0],O=b[1],g=an().t,j=a.map((function(e){return Object.assign({},{asset:e},mt.get(e))})),C=function(){return l(!1)},v=function(e){return function(){O(e),n(e)}};Object(f.useEffect)((function(){O(t),d(t)}),[t]);return E.a.createElement(E.a.Fragment,null,E.a.createElement(ba.a,{container:!0,alignItems:"center",className:r.root,onClick:function(){return l(!0)}},E.a.createElement("img",{src:Et(m),className:r.icon,alt:"token-".concat(m)}),E.a.createElement(bo,null,ft(m)),E.a.createElement("img",{src:po.a,alt:"down-icon"})),E.a.createElement(Ya.a,{open:i,onClose:C,PaperProps:{classes:{root:r.paperRoot}}},E.a.createElement(fo,{disableTypography:!0,onClick:C},E.a.createElement(ba.a,{container:!0,justify:"space-between",alignItems:"center"},E.a.createElement("span",null,g("Select Token")),E.a.createElement(Rr,null))),E.a.createElement(Qa.a,null,E.a.createElement(fa.a,{className:r.list},j.map((function(e){return E.a.createElement(Oo,{button:!0,selected:e.asset===h,onClick:v(e.asset),key:"token-selected-".concat(e.asset)},E.a.createElement(ho,null,E.a.createElement("img",{src:e.icon,className:"icon",alt:e.name})),E.a.createElement(Eo,{primary:e.name,secondary:e.fullName}))}))),E.a.createElement(ba.a,{container:!0},E.a.createElement(Xa.a,{variant:"contained",color:"primary",onClick:function(){if(l(!1),!h)return!1;d(h)}},g("Select"))))))},Co=Object(nr.a)((function(e){return{root:Object(L.a)({position:"absolute",top:-60},va(28,32,500,"Roboto",e.palette.primary.light),Object(w.a)({},e.breakpoints.down("sm"),{position:"relative",top:0,width:"100%",marginBottom:26}))}}))(fn.a),vo=Object(nr.a)((function(e){return{root:{position:"relative"}}}))(ba.a),yo=Object(nr.a)((function(){return{root:{marginLeft:9}}}))(qr.a),xo=function(e){var t=e.title,a=e.asset,n=void 0===a?1:a,r=e.value,c=void 0===r?0:r,o=e.onAssetChange,i=e.onValueChange,l=e.error,u=an().t,s=pn("sm"),m=Object(f.createRef)();return Object(f.useEffect)((function(){m.current&&(m.current.value=c?c.toString():"")}),[c]),E.a.createElement(vo,{container:!0,alignItems:"center",wrap:s?"wrap":"nowrap",style:{width:"auto"}},E.a.createElement(Co,null,t),E.a.createElement(jo,{defaultToken:n,data:pt,onChange:function(e){return o(e)}}),E.a.createElement(yo,{inputRef:m,type:"Number",error:!!l,placeholder:u("Enter Amount"),className:"inputRef",onChange:function(e){i(Number(e.currentTarget.value))},helperText:l}))},wo=function(e){return function(t){return t.dex.dexLiquidityPool.find((function(t){return t.asset===e}))}},Lo=Object(nr.a)((function(e){return{root:Object(w.a)({padding:"100px 64px 45px"},e.breakpoints.down("sm"),{padding:"52px 30px"})}}))(sr.a),ko=Object(nr.a)((function(e){return{root:Object(w.a)({width:162},e.breakpoints.down("sm"),{marginTop:61})}}))(Xa.a),No=Object(nr.a)((function(){return{root:{width:53,height:53}}}))(ua.a),So=pe.fromNatural(0),To=function(){var e,t=an().t,a=Object(g.b)(),n=mc(io),r=n.data,c=r.payAsset,o=r.pay,i=r.receiveAsset,l=r.receive,u=n.setValue,s=n.setError,m=(n.clearError,n.checkVerify),d=Object(f.useState)(null),p=Object(qe.a)(d,2),b=p[0],h=p[1],O=Object(g.c)(wo(i.value)),j=Object(g.c)(wo(c.value)),C=Object(g.c)(S(fe)),v=Object(g.c)((e="swapCurrency",function(t){return t.dex["".concat(e,"Status")]})),y=Object(g.c)(ta([c.value,i.value])),x=Object(qe.a)(y,1)[0],w=pn("sm");if(o.validator=function(e){return e.isLessThan(So)?"please enter positive number":e.isZero()?"please enter pay amount":e.isGreaterThan(e)?"the max amount can pay is ".concat(Fn(x)):""},l.validator=function(e){return e.isLessThan(So)?"please enter positive number":e.isZero()?"please enter receive amount":O&&e.isGreaterThan(O.pool.other)?"the pool has no enough asset":""},Object(f.useEffect)((function(){"failure"!==v&&"success"!==v||(u("pay",So),u("receive",So),a(Kt.dex.reset()))}),[v,a]),Object(f.useEffect)((function(){if(j&&O&&"receive"!==b){var e=o.value;if(1!==c.value&&(e=qn(e,j.pool.base,j.pool.other)),1===i.value)u("receive",e);else{var t=qn(e,O.pool.other,O.pool.base);u("receive",t)}}else h("pay")}),[o.value,c.value,i.value]),Object(f.useEffect)((function(){if(j&&O&&"pay"!==b){var e=l.value;if(1!==i.value&&(e=Pn(e,O.pool.other,O.pool.base)),1===c.value)u("pay",e);else{var t=Pn(e,j.pool.base,j.pool.other);u("pay",t)}}}),[l.value]),Object(f.useEffect)((function(){b&&(s("pay",o.validator(o.value)),s("receive",l.validator(l.value)))}),[l.value,o.value]),!O||!j)return E.a.createElement(Xn.a,{variant:"rect",height:118});return E.a.createElement(Lo,{square:!0,elevation:1},E.a.createElement(ba.a,{container:!0,alignItems:"center",wrap:w?"wrap":"nowrap",spacing:w?0:10},E.a.createElement(ba.a,{item:!0,xs:w?12:"auto"},E.a.createElement(xo,{title:t("Pay with"),asset:c.value,value:o.value.toNumber(4),error:o.error,onValueChange:function(e){var t=pe.fromNatural(e);u("pay",t),h("pay")},onAssetChange:function(e){u("payAsset",e),h("pay")}})),E.a.createElement(ba.a,{item:!0,xs:w?12:"auto",style:w?{margin:"26px 0"}:{}},E.a.createElement(No,{onClick:function(){var e=c.value,t=i.value;u("payAsset",t),u("receiveAsset",e),u("pay",So),u("receive",So),s("pay",""),s("receive",""),h(null)}},E.a.createElement("img",{src:uo.a,alt:"arrows"}))),E.a.createElement(ba.a,{item:!0,xs:w?12:"auto"},E.a.createElement(xo,{title:t("Receive"),value:l.value.toNumber(4),error:l.error,asset:i.value,onValueChange:function(e){var t=pe.fromNatural(e);u("receive",t),h("receive")},onAssetChange:function(e){u("receiveAsset",e),h("pay")}})),E.a.createElement(ba.a,{item:!0,xs:w?12:"auto"},E.a.createElement(ba.a,{container:!0,justify:"center"},E.a.createElement(ko,{variant:"contained",color:"primary",onClick:function(){h(null),m((function(){a(Kt.dex.swapCurrency.request({supply:{asset:c.value,balance:o.value},target:{asset:i.value,balance:l.value}}))}))},disabled:C},"Exchange")))))},Ro={payAsset:{value:1},pay:{value:pe.fromNatural(0)},receiveAsset:{value:pt[1]},receive:{value:pe.fromNatural(0)}},Ao=function(){var e=an().t,t=Object(g.b)();return Object(f.useEffect)((function(){t(Kt.dex.fetchDexLiquidityPool.request(pt)),t(Kt.account.fetchAssetsBalance.request(pt))}),[t]),E.a.createElement(sc,{context:io,data:Ro},E.a.createElement(ur,{title:e("Exchange"),style:{maxWidth:1200}},E.a.createElement(To,null)))},qo=a(1096),Po=a(1091),Do=Object(cr.a)((function(e){return{root:{marginBottom:26},indicator:{backgroundColor:e.palette.primary.light}}}))(qo.a),_o=Object(cr.a)((function(e){return{root:Object(L.a)({minWidth:"auto",padding:"0 3.5px",marginRight:26,borderBottom:"2px solid ".concat(e.palette.secondary.main),textTransform:"none"},va(22,26,500,"Roboto",e.palette.common.black),{"&$selected":{color:e.palette.secondary.main}})}}))(Po.a),Io=function(e){var t=e.active,a=e.config,n=e.onChange,r=a.find((function(e){return e.key===t}));return E.a.createElement(E.a.Fragment,null,E.a.createElement(Do,{value:t,onChange:function(e,t){n(t)}},a.map((function(e){return E.a.createElement(_o,{label:e.title,value:e.key,key:"tabs-".concat(e.key)})}))),r&&r.render({}))},Bo=function(e){var t=e.data.proposal;return"set_collateral_params"===t.method.name?E.a.createElement(E.a.Fragment,null,E.a.createElement("p",null,"Set ",t.args.currency_id.toUpperCase()," CDP Parameters:"),t.args.stability_fee?E.a.createElement("p",null,"Stable Fee To ",pe.fromParts(parseInt(t.args.stability_fee,16)).toNumber()):null,t.args.liquidation_penalty?E.a.createElement("p",null,"Liquidation Penalty To"," ",pe.fromParts(parseInt(t.args.liquidation_penalty,16)).toNumber()):null,t.args.liquidation_ratio?E.a.createElement("p",null,"Liquidation Ratio To"," ",pe.fromParts(parseInt(t.args.liquidation_ratio,16)).toNumber()):null,t.args.required_collateral_ratio?E.a.createElement("p",null,"Required Collateral Ratio To"," ",pe.fromParts(parseInt(t.args.required_collateral_ratio,16)).toNumber()):null,t.args.maximum_total_debit_value?E.a.createElement("p",null,"Maximum Total Debit Value To"," ",pe.fromParts(parseInt(t.args.maximum_total_debit_value,16)).toNumber()):null):null},Fo=Object(nr.a)((function(e){return{root:Object(L.a)({minWidth:100},va(22,32,500,"Roboto",e.palette.common.black))}}))(fn.a),Mo=Object(nr.a)((function(e){return{root:Object(L.a)({marginLeft:23},va(22,32,500,"Roboto",e.palette.secondary.main))}}))(fn.a),Uo=Object(nr.a)((function(e){return{root:{paddingBottom:26,borderBottom:"2px solid ".concat(e.palette.secondary.main),"&:last-child":{borderBottom:"none"}}}}))(Jn.a),Go=Object(nr.a)((function(e){return{root:Object(L.a)({display:"inline-block"},va(22,32,500,"Roboto",e.palette.common.black),{"&.detail":{paddingBottom:8,borderBottom:"2px solid ".concat(e.palette.secondary.main)}})}}))(fn.a),Wo=Object(nr.a)((function(e){return{root:Object(L.a)({minWidth:100,marginTop:17.5},va(22,32,500,"Roboto",e.palette.common.black),{wordBreak:"break-all"})}}))(Jn.a),Ho=Object(nr.a)((function(e){return{root:Object(L.a)({minWidth:100,marginTop:8},va(15,22,500,"Roboto",e.palette.secondary.main),{wordBreak:"break-all"})}}))(Jn.a),Zo=Object(nr.a)((function(e){return{root:Object(L.a)({minWidth:100,marginTop:8},va(15,22,500,"Roboto",e.palette.secondary.main),{wordBreak:"break-all"})}}))(Jn.a),zo=Object(nr.a)((function(e){return{root:Object(L.a)({cursor:"pointer",marginTop:e.spacing(1)},va(15,22,500,"Roboto",e.palette.primary.light))}}))(fn.a),Vo=Object(nr.a)((function(){return{root:{width:128}}}))(Xa.a),$o=(Object(nr.a)((function(e){return{root:Object(L.a)({marginTop:10},va(22,32,500,"Roboto",e.palette.grey[600]))}}))(fn.a),function(e){var t=e.index,a=e.data,n=e.showVote,r=an().t,c=Object(f.useState)(!1),o=Object(qe.a)(c,2),i=o[0],l=o[1];return E.a.createElement(Uo,{display:"flex",alignItems:"flex-start",key:"proposal-item-".concat(a.hash)},E.a.createElement(Jn.a,{flex:1},E.a.createElement(Go,{className:Object(Da.a)({detail:i})},"".concat(t+1," ").concat(a.proposal.method.name)),!i&&E.a.createElement(zo,{onClick:function(){return l(!0)}},"Detail"),i&&E.a.createElement(E.a.Fragment,null,E.a.createElement(Wo,null,E.a.createElement(Bo,{data:a})),E.a.createElement(Ho,null,E.a.createElement("p",null,r("Proposal hash")),E.a.createElement("p",null,a.hash)),E.a.createElement(Zo,null,!Object(De.isEmpty)(a.vote.ayes)&&E.a.createElement("p",null,"Aye"),!Object(De.isEmpty)(a.vote.ayes)&&a.vote.ayes.map((function(e){return E.a.createElement("p",{key:"ayes-".concat(e)},e)}))),E.a.createElement(Zo,null,!Object(De.isEmpty)(a.vote.nays)&&E.a.createElement("p",null,"Nay"),!Object(De.isEmpty)(a.vote.nays)&&a.vote.nays.map((function(e){return E.a.createElement("p",{key:"nays-".concat(e)},e)}))))),E.a.createElement(Jn.a,null,n&&E.a.createElement(Vo,{variant:"contained",color:"primary"},r("Vote"))))}),Yo=function(e){var t=e.header,a=e.count,n=e.data,r=e.showVote;return E.a.createElement(dr,{header:E.a.createElement(Jn.a,{display:"flex"},E.a.createElement(Fo,null,t),E.a.createElement(Mo,null,a)),elevation:1,size:"normal",divider:!1},n.map((function(e,t){return E.a.createElement($o,{data:e,index:t,key:"proposal-item-".concat(t),showVote:r})})))},Qo=function(e){return e.governance.proposals},Jo=function(e){return e.governance.council},Xo=function(){var e=an().t,t=Object(g.c)(Qo);return E.a.createElement(E.a.Fragment,null,E.a.createElement(Yo,{header:e("Proposal"),count:t.length,data:t,showVote:!1}))},Ko=Object(nr.a)((function(e){return{root:Object(L.a)({minWidth:100},va(22,32,500,"Roboto",e.palette.common.black))}}))(fn.a),ei=Object(nr.a)((function(e){return{root:Object(L.a)({marginTop:17.5},va(22,32,500,"Roboto",e.palette.secondary.main))}}))(fn.a),ti=function(){var e=an().t,t=Object(g.c)(Jo);return E.a.createElement(E.a.Fragment,null,E.a.createElement(dr,{header:E.a.createElement(Jn.a,{display:"flex"},E.a.createElement(Ko,null,e("Members"))),elevation:1,size:"normal",divider:!1}," ",t.map((function(e,t){return E.a.createElement(ei,{key:"council-".concat(e)},"".concat(t+1,". ").concat(e))}))))},ai=function e(t){var a=t.config,n=t.prefix,r=void 0===n?"":n;return console.log(r,"".concat(r).concat(a[0].path)),E.a.createElement(Vt.d,null,a.map((function(t,a){var n=t.Component,c=t.routes,o=t.path,i=t.exact;return E.a.createElement(Vt.b,{key:"route_".concat(r,"_").concat(a),path:"".concat(r).concat(o),exact:i},E.a.createElement(n,{children:c&&E.a.createElement(e,{config:c,prefix:o})}))})))},ni=(dc=[{path:"/",Component:Qn,routes:[{path:"loan",Component:oo},{path:"exchange",Component:Ao},{path:"governance",Component:function(){var e=an().t,t=Object(f.useState)("proposal"),a=Object(qe.a)(t,2),n=a[0],r=a[1],c=Object(g.b)(),o=[{key:"proposal",title:e("Proposal"),render:function(){return E.a.createElement(Xo,null)}},{key:"council",title:e("Council"),render:function(){return E.a.createElement(ti,null)}}];return Object(f.useEffect)((function(){c(ve.request({})),c(xe.request({}))}),[c]),E.a.createElement(ur,{title:e("Governance"),style:{maxWidth:900}},E.a.createElement(Io,{active:n,config:o,onChange:function(e){return r(e)}}))}},{path:"",Component:function(){return E.a.createElement(Vt.a,{to:"/loan"})}}]}],E.a.createElement(ai,{config:dc,prefix:""})),ri={en:{"No polkadot{.js} extension found, please install it first!":"No polkadot{.js} extension found, please install it first!","No account found, please add account in your wallet extension or unlock it!":"No account found, please add account in your wallet extension or unlock it!",BTC:"BTC",ETH:"{{asset}}","Interest Rate":"Interest Rate","Current Collateral Ratio":"Current Collateral Ratio","Liquidation Ratio":"Liquidation Ratio","{{asset}} in USD":"{{asset}} in USD","Price Feed":"Price Feed","System Info":"System Info","aUSD in Supply":"aUSD in Supply",Collateral:"Collateral","Stability Fee/Interest":"Stability Fee/Interest","Borrowed aUSD":"Borrowed aUSD","Collateral {{asset}}":"Collateral {{asset}}",Deposit:"Deposit",Payback:"Payback",Generate:"Generate",Withdraw:"Withdraw","Can Pay Back":"Can Pay Back","Can Generate":"Can Generate","Required for Safety":"Required for Safety","Able to Withdraw":"Able to Withdraw","{{number}} {{asset}}":"{{number}} {{asset}}","Transaction History":"Transaction History",Token:"Token",Action:"Action",When:"When",cancel:"cancel","aUSD Balance":"aUSD Balance","New Liquidation Ratio":"New Liquidation Ratio","New Liquidation Price":"New Liquidation Price","Tx Hash":"Tx Hash",From:"From","Payback aUSD":"Payback aUSD","Liquidation Price":"Liquidation Price","Liquidation Penalty":"Liquidation Penalty",ADD_VAULT_GENERATE_STABLE_COIN_NOTE:"Note: the amount you borrowed / total collateral (your collateral ratio) should be safely above liquidation ratio","Create Loan":"Create Loan","Select Collateral":"Select Collateral","Each collateral type has its own unique risk profiles.":"Each collateral type has its own unique risk profiles.","Generate aUSD":"Generate aUSD","Deposit {{asset}} as collateral to genearte aUSD":"Deposit {{asset}} as collateral to genearte aUSD",Confirmation:"Confirmation","Confirm creating a collateralized loan for aUSD":"Confirm creating a collateralized loan for aUSD","Collateral Type":"Collateral Type","LIQ Ratio":"LIQ Ratio","LIQ Fee":"LIQ Fee","Avail. Balance":"Avail. Balance",Cancel:"Cancel",Next:"Next","How much {{asset}} would you deposit as collateral?":"How much {{asset}} would you deposit as collateral?","Max to Lock":"Max to Lock","How much aUSD would you like to borrow?":"How much aUSD would you like to borrow?","Max available to borrow":"Max available to borrow",Collateralization:"Collateralization","{{asset}} Price":"{{asset}} Price","Liquidation Fee":"Liquidation Fee",Previous:"Previous",Depositing:"Depositing","Collateralization Ratio":"Collateralization Ratio","I have read and accepted the ":"I have read and accepted the ","Terms and Conditions":"Terms and Conditions","Collateral Ratio":"Collateral Ratio","Payback {{asset}}":"Payback {{asset}}",Borrowing:"Borrowing","Get Started":"Get Started","Total Collateral Locked":"Total Collateral Locked","Total aUSD Debit":"Total aUSD Debit","Current Ratio":"Current Ratio",Deposited:"Deposited","Avil. to Withdraw":"Avil. to Withdraw",StableCoin:"StableCoin","Manage Loan":"Manage Loan",Exchange:"Exchange","Pay with":"Pay with",Receive:"Receive","Enter Amount":"Enter Amount","Select Token":"Select Token",Select:"Select",Ok:"Ok","New Collateral Ratio":"New Collateral Ratio","Withdraw {{asset}}":"Withdraw {{asset}}","Disposit {{asset}}":"Disposit {{asset}}","Your loan is created, and aUSD is generated!":"Your loan is created, and aUSD is generated!","Payback {{ asset}}":"Payback {{ asset}}","Generate {{asset}}":"Generate {{asset}}","Pay Back":"Pay Back","Required Collateral Ratio":"Required Collateral Ratio",Governance:"Governance","Read more":"Read more","Vote for this proposal":"Vote for this proposal","Wallet Balance":"Wallet Balance",Proposal:"Proposal",Council:"Council",Members:"Members"},zh:{BTC:"\u6bd4\u7279\u5e01",ETH:"\u4ee5\u592a\u574a","Interest Rate":"\u5229\u606f","Current Collateral Ratio":"\u5f53\u524d\u62b5\u62bc\u7387","Liquidation Ratio":"\u6e05\u7b97\u6bd4\u7387","{{asset}} in USD":"{{asset}} in USD","Price Feed":"\u5582\u4ef7\u4fe1\u606f","System Info":"\u7cfb\u7edf\u4fe1\u606f","aUSD in Supply":"aUSD \u4f9b\u5e94\u91cf",Collateral:"Collateral","Stability Fee/Interest":"Stability Fee/Interest","Borrowed aUSD":"Borrowed aUSD","Collateral {{asset}}":"Collateral {{asset}}",Deposit:"Deposit",Payback:"Payback",Generate:"Generate",Withdraw:"Withdraw","Can Pay Back":"Can Pay Back","Can Generate":"Can Generate","Required for Safety":"Required for Safety","Able to Withdraw":"Able to Withdraw","{{number}} {{asset}}":"{{number}} {{asset}}","Transaction History":"Transaction History",Token:"Token",Action:"Action",When:"When",cancel:"cancel","aUSD Balance":"aUSD Balance","New Liquidation Ratio":"New Liquidation Ratio","New Liquidation Price":"New Liquidation Price","Tx Hash":"Tx Hash",From:"From","Payback aUSD":"Payback aUSD","Liquidation Price":"Liquidation Price","Liquidation Penalty":"Liquidation Penalty",ADD_VAULT_GENERATE_STABLE_COIN_NOTE:"Note: the amount you borrowed / total collateral (your collateral ratio) should be safely above liquidation ratio","Select Collateral":"Select Collateral","Each collateral type has its own unique risk profiles.":"Each collateral type has its own unique risk profiles.","Generate aUSD":"Generate aUSD","Deposit ETH as collateral to genearte aUSD":"Deposit ETH as collateral to genearte aUSD",Confirmation:"Confirmation","Confirm creating a collateralized loan for aUSD":"Confirm creating a collateralized loan for aUSD","Collateral Type":"Collateral Type","LIQ Ratio":"LIQ Ratio","LIQ Fee":"LIQ Fee","Avail. Balance":"Avail. Balance",Cancel:"Cancel",Next:"Next","How much ETH would you deposit as collateral?":"How much ETH would you deposit as collateral?","Max to Lock":"Max to Lock","How much aUSD would you like to borrow?":"How much aUSD would you like to borrow?","Max available to borrow":"Max available to borrow",Collateralization:"Collateralization","ETH Price":"ETH Price","Liquidation Fee":"Liquidation Fee",Previous:"Previous",Depositing:"Depositing","Borrowing/Generating":"Borrowing/Generating","Collateralization Ratio":"Collateralization Ratio","Stability Fee/Interest Rate":"Stability Fee/Interest Rate","I have read and accepted the ":"I have read and accepted the ","Terms and Conditions":"Terms and Conditions"}},ci=function(){var e=Object(x.a)(),t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||y.d,a=Object(y.e)(Le,t(Object(y.a)(e)));return e.run(zt),a}(),oi=new Ka({language:"en",feedback:"en",i18n:ri}),ii=function(){return E.a.createElement(v.a,null,E.a.createElement(Wa,null,E.a.createElement(g.a,{store:ci},E.a.createElement(tn,{translator:oi},E.a.createElement(j.a,{theme:ya},E.a.createElement(C.a,null),ni)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));O.a.render(E.a.createElement(ii,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},167:function(e,t,a){e.exports=a.p+"static/media/right-arrow.6700244f.svg"},455:function(e,t,a){e.exports=a.p+"static/media/loan.c049e20b.svg"},456:function(e,t,a){e.exports=a.p+"static/media/twitter.b53a2c3e.svg"},457:function(e,t,a){e.exports=a.p+"static/media/email.ded54eb9.svg"},458:function(e,t,a){e.exports=a.p+"static/media/exchange.d62f7fb4.svg"},459:function(e,t,a){e.exports=a.p+"static/media/governance.ed6a5384.svg"},460:function(e,t,a){e.exports=a.p+"static/media/aUSD.18dfb053.svg"},461:function(e,t,a){e.exports=a.p+"static/media/btc.7a8ff0cc.svg"},462:function(e,t,a){e.exports=a.p+"static/media/dot.91d043a6.svg"},464:function(e,t,a){e.exports=a.p+"static/media/acala-logo.20c64337.svg"},465:function(e,t,a){e.exports=a.p+"static/media/menu.0d7f7ea5.svg"},468:function(e,t,a){e.exports=a.p+"static/media/acala-mandala-logo.fe290ace.svg"},472:function(e,t,a){e.exports=a.p+"static/media/add.0b1f51fe.svg"},473:function(e,t,a){e.exports=a.p+"static/media/exchange-arrows.bcc9601d.svg"},474:function(e,t,a){e.exports=a.p+"static/media/chevron-down.579c1821.svg"},492:function(e,t,a){e.exports=a(1028)},497:function(e,t,a){},526:function(e,t){},569:function(e,t){},571:function(e,t){},602:function(e,t){},603:function(e,t){},670:function(e,t){}},[[492,1,2]]]);
//# sourceMappingURL=main.f6255c1b.chunk.js.map